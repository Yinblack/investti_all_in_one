import{r as v,R as $,g as cr,u as g,j as I,a as y,b as pe,F as Tt,c as kt,f as fa,d as da}from"./mapplic-admin.js";const lr=v.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),an=v.createContext({}),cn=v.createContext(null),ln=typeof document<"u",ur=ln?v.useLayoutEffect:v.useEffect,Ps=v.createContext({strict:!1});function pa(e,t,n,r){const{visualElement:i}=v.useContext(an),s=v.useContext(Ps),o=v.useContext(cn),c=v.useContext(lr).reducedMotion,a=v.useRef();r=r||s.renderer,!a.current&&r&&(a.current=r(e,{visualState:t,parent:i,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:c}));const u=a.current;v.useInsertionEffect(()=>{u&&u.update(n,o)});const l=v.useRef(!!window.HandoffAppearAnimations);return ur(()=>{u&&(u.render(),l.current&&u.animationState&&u.animationState.animateChanges())}),v.useEffect(()=>{u&&(u.updateFeatures(),!l.current&&u.animationState&&u.animationState.animateChanges(),window.HandoffAppearAnimations=void 0,l.current=!1)}),u}function ct(e){return typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function ma(e,t,n){return v.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):ct(n)&&(n.current=r))},[t])}function Et(e){return typeof e=="string"||Array.isArray(e)}function un(e){return typeof e=="object"&&typeof e.start=="function"}const hr=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],fr=["initial",...hr];function hn(e){return un(e.animate)||fr.some(t=>Et(e[t]))}function Ts(e){return!!(hn(e)||e.variants)}function ga(e,t){if(hn(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Et(n)?n:void 0,animate:Et(r)?r:void 0}}return e.inherit!==!1?t:{}}function ya(e){const{initial:t,animate:n}=ga(e,v.useContext(an));return v.useMemo(()=>({initial:t,animate:n}),[Xr(t),Xr(n)])}function Xr(e){return Array.isArray(e)?e.join(" "):e}const Yr={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},St={};for(const e in Yr)St[e]={isEnabled:t=>Yr[e].some(n=>!!t[n])};function va(e){for(const t in e)St[t]={...St[t],...e[t]}}const dr=v.createContext({}),ks=v.createContext({}),ba=Symbol.for("motionComponentSymbol");function xa({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:i}){e&&va(e);function s(c,a){let u;const l={...v.useContext(lr),...c,layoutId:wa(c)},{isStatic:h}=l,d=ya(c),m=r(c,h);if(!h&&ln){d.visualElement=pa(i,m,l,t);const x=v.useContext(ks),T=v.useContext(Ps).strict;d.visualElement&&(u=d.visualElement.loadFeatures(l,T,e,x))}return v.createElement(an.Provider,{value:d},u&&d.visualElement?v.createElement(u,{visualElement:d.visualElement,...l}):null,n(i,c,ma(m,d.visualElement,a),m,h,d.visualElement))}const o=v.forwardRef(s);return o[ba]=i,o}function wa({layoutId:e}){const t=v.useContext(dr).id;return t&&e!==void 0?t+"-"+e:e}function Ca(e){function t(r,i={}){return xa(e(r,i))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,i)=>(n.has(i)||n.set(i,t(i)),n.get(i))})}const Pa=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function pr(e){return typeof e!="string"||e.includes("-")?!1:!!(Pa.indexOf(e)>-1||/[A-Z]/.test(e))}const Yt={};function Ta(e){Object.assign(Yt,e)}const Lt=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],it=new Set(Lt);function Es(e,{layout:t,layoutId:n}){return it.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Yt[e]||e==="opacity")}const ve=e=>!!(e&&e.getVelocity),ka={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Ea=Lt.length;function Sa(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,i){let s="";for(let o=0;o<Ea;o++){const c=Lt[o];if(e[c]!==void 0){const a=ka[c]||c;s+=`${a}(${e[c]}) `}}return t&&!e.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(e,r?"":s):n&&r&&(s="none"),s}const Ss=e=>t=>typeof t=="string"&&t.startsWith(e),Os=Ss("--"),Mn=Ss("var(--"),Oa=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,Aa=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Ue=(e,t,n)=>Math.min(Math.max(n,e),t),st={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},bt={...st,transform:e=>Ue(0,1,e)},Ft={...st,default:1},xt=e=>Math.round(e*1e5)/1e5,fn=/(-)?([\d]*\.?[\d])+/g,As=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,La=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Rt(e){return typeof e=="string"}const Dt=e=>({test:t=>Rt(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Ne=Dt("deg"),Ae=Dt("%"),W=Dt("px"),Ra=Dt("vh"),Da=Dt("vw"),Zr={...Ae,parse:e=>Ae.parse(e)/100,transform:e=>Ae.transform(e*100)},Qr={...st,transform:Math.round},Ls={borderWidth:W,borderTopWidth:W,borderRightWidth:W,borderBottomWidth:W,borderLeftWidth:W,borderRadius:W,radius:W,borderTopLeftRadius:W,borderTopRightRadius:W,borderBottomRightRadius:W,borderBottomLeftRadius:W,width:W,maxWidth:W,height:W,maxHeight:W,size:W,top:W,right:W,bottom:W,left:W,padding:W,paddingTop:W,paddingRight:W,paddingBottom:W,paddingLeft:W,margin:W,marginTop:W,marginRight:W,marginBottom:W,marginLeft:W,rotate:Ne,rotateX:Ne,rotateY:Ne,rotateZ:Ne,scale:Ft,scaleX:Ft,scaleY:Ft,scaleZ:Ft,skew:Ne,skewX:Ne,skewY:Ne,distance:W,translateX:W,translateY:W,translateZ:W,x:W,y:W,z:W,perspective:W,transformPerspective:W,opacity:bt,originX:Zr,originY:Zr,originZ:W,zIndex:Qr,fillOpacity:bt,strokeOpacity:bt,numOctaves:Qr};function mr(e,t,n,r){const{style:i,vars:s,transform:o,transformOrigin:c}=e;let a=!1,u=!1,l=!0;for(const h in t){const d=t[h];if(Os(h)){s[h]=d;continue}const m=Ls[h],x=Aa(d,m);if(it.has(h)){if(a=!0,o[h]=x,!l)continue;d!==(m.default||0)&&(l=!1)}else h.startsWith("origin")?(u=!0,c[h]=x):i[h]=x}if(t.transform||(a||r?i.transform=Sa(e.transform,n,l,r):i.transform&&(i.transform="none")),u){const{originX:h="50%",originY:d="50%",originZ:m=0}=c;i.transformOrigin=`${h} ${d} ${m}`}}const gr=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Rs(e,t,n){for(const r in t)!ve(t[r])&&!Es(r,n)&&(e[r]=t[r])}function Ma({transformTemplate:e},t,n){return v.useMemo(()=>{const r=gr();return mr(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function Va(e,t,n){const r=e.style||{},i={};return Rs(i,r,e),Object.assign(i,Ma(e,t,n)),e.transformValues?e.transformValues(i):i}function _a(e,t,n){const r={},i=Va(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=i,r}const Fa=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function Zt(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||Fa.has(e)}let Ds=e=>!Zt(e);function Ia(e){e&&(Ds=t=>t.startsWith("on")?!Zt(t):e(t))}try{Ia(require("@emotion/is-prop-valid").default)}catch{}function Ba(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(Ds(i)||n===!0&&Zt(i)||!t&&!Zt(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function Jr(e,t,n){return typeof e=="string"?e:W.transform(t+n*e)}function ja(e,t,n){const r=Jr(t,e.x,e.width),i=Jr(n,e.y,e.height);return`${r} ${i}`}const Na={offset:"stroke-dashoffset",array:"stroke-dasharray"},za={offset:"strokeDashoffset",array:"strokeDasharray"};function $a(e,t,n=1,r=0,i=!0){e.pathLength=1;const s=i?Na:za;e[s.offset]=W.transform(-r);const o=W.transform(t),c=W.transform(n);e[s.array]=`${o} ${c}`}function yr(e,{attrX:t,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:c=1,pathOffset:a=0,...u},l,h,d){if(mr(e,u,l,d),h){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:x,dimensions:T}=e;m.transform&&(T&&(x.transform=m.transform),delete m.transform),T&&(i!==void 0||s!==void 0||x.transform)&&(x.transformOrigin=ja(T,i!==void 0?i:.5,s!==void 0?s:.5)),t!==void 0&&(m.x=t),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),o!==void 0&&$a(m,o,c,a,!1)}const Ms=()=>({...gr(),attrs:{}}),vr=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Wa(e,t,n,r){const i=v.useMemo(()=>{const s=Ms();return yr(s,t,{enableHardwareAcceleration:!1},vr(r),e.transformTemplate),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};Rs(s,e.style,e),i.style={...s,...i.style}}return i}function Ua(e=!1){return(n,r,i,{latestValues:s},o)=>{const a=(pr(n)?Wa:_a)(r,s,o,n),l={...Ba(r,typeof n=="string",e),...a,ref:i},{children:h}=r,d=v.useMemo(()=>ve(h)?h.get():h,[h]);return v.createElement(n,{...l,children:d})}}const br=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function Vs(e,{style:t,vars:n},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const s in n)e.style.setProperty(s,n[s])}const _s=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Fs(e,t,n,r){Vs(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(_s.has(i)?i:br(i),t.attrs[i])}function xr(e,t){const{style:n}=e,r={};for(const i in n)(ve(n[i])||t.style&&ve(t.style[i])||Es(i,e))&&(r[i]=n[i]);return r}function Is(e,t){const n=xr(e,t);for(const r in e)if(ve(e[r])||ve(t[r])){const i=Lt.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=e[r]}return n}function wr(e,t,n,r={},i={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,i)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,i)),t}function dn(e){const t=v.useRef(null);return t.current===null&&(t.current=e()),t.current}const Qt=e=>Array.isArray(e),Ha=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),Ga=e=>Qt(e)?e[e.length-1]||0:e;function Gt(e){const t=ve(e)?e.get():e;return Ha(t)?t.toValue():t}function qa({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,i,s){const o={latestValues:Ka(r,i,s,e),renderState:t()};return n&&(o.mount=c=>n(r,c,o)),o}const Bs=e=>(t,n)=>{const r=v.useContext(an),i=v.useContext(cn),s=()=>qa(e,t,r,i);return n?s():dn(s)};function Ka(e,t,n,r){const i={},s=r(e,{});for(const d in s)i[d]=Gt(s[d]);let{initial:o,animate:c}=e;const a=hn(e),u=Ts(e);t&&u&&!a&&e.inherit!==!1&&(o===void 0&&(o=t.initial),c===void 0&&(c=t.animate));let l=n?n.initial===!1:!1;l=l||o===!1;const h=l?c:o;return h&&typeof h!="boolean"&&!un(h)&&(Array.isArray(h)?h:[h]).forEach(m=>{const x=wr(e,m);if(!x)return;const{transitionEnd:T,transition:k,...S}=x;for(const b in S){let E=S[b];if(Array.isArray(E)){const O=l?E.length-1:0;E=E[O]}E!==null&&(i[b]=E)}for(const b in T)i[b]=T[b]}),i}const se=e=>e;class ei{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function Xa(e){let t=new ei,n=new ei,r=0,i=!1,s=!1;const o=new WeakSet,c={schedule:(a,u=!1,l=!1)=>{const h=l&&i,d=h?t:n;return u&&o.add(a),d.add(a)&&h&&i&&(r=t.order.length),a},cancel:a=>{n.remove(a),o.delete(a)},process:a=>{if(i){s=!0;return}if(i=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let u=0;u<r;u++){const l=t.order[u];l(a),o.has(l)&&(c.schedule(l),e())}i=!1,s&&(s=!1,c.process(a))}};return c}const It=["prepare","read","update","preRender","render","postRender"],Ya=40;function Za(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=It.reduce((h,d)=>(h[d]=Xa(()=>n=!0),h),{}),o=h=>s[h].process(i),c=()=>{const h=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(h-i.timestamp,Ya),1),i.timestamp=h,i.isProcessing=!0,It.forEach(o),i.isProcessing=!1,n&&t&&(r=!1,e(c))},a=()=>{n=!0,r=!0,i.isProcessing||e(c)};return{schedule:It.reduce((h,d)=>{const m=s[d];return h[d]=(x,T=!1,k=!1)=>(n||a(),m.schedule(x,T,k)),h},{}),cancel:h=>It.forEach(d=>s[d].cancel(h)),state:i,steps:s}}const{schedule:Q,cancel:Fe,state:de,steps:yn}=Za(typeof requestAnimationFrame<"u"?requestAnimationFrame:se,!0),Qa={useVisualState:Bs({scrapeMotionValuesFromProps:Is,createRenderState:Ms,onMount:(e,t,{renderState:n,latestValues:r})=>{Q.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Q.render(()=>{yr(n,r,{enableHardwareAcceleration:!1},vr(t.tagName),e.transformTemplate),Fs(t,n)})}})},Ja={useVisualState:Bs({scrapeMotionValuesFromProps:xr,createRenderState:gr})};function ec(e,{forwardMotionProps:t=!1},n,r){return{...pr(e)?Qa:Ja,preloadedFeatures:n,useRender:Ua(t),createVisualElement:r,Component:e}}function Me(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const js=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function pn(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const tc=e=>t=>js(t)&&e(t,pn(t));function Ve(e,t,n,r){return Me(e,t,tc(n),r)}const nc=(e,t)=>n=>t(e(n)),$e=(...e)=>e.reduce(nc);function Ns(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const ti=Ns("dragHorizontal"),ni=Ns("dragVertical");function zs(e){let t=!1;if(e==="y")t=ni();else if(e==="x")t=ti();else{const n=ti(),r=ni();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function $s(){const e=zs(!0);return e?(e(),!1):!0}class Ge{constructor(t){this.isMounted=!1,this.node=t}update(){}}function ri(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),i=(s,o)=>{if(s.type==="touch"||$s())return;const c=e.getProps();e.animationState&&c.whileHover&&e.animationState.setActive("whileHover",t),c[r]&&Q.update(()=>c[r](s,o))};return Ve(e.current,n,i,{passive:!e.getProps()[r]})}class rc extends Ge{mount(){this.unmount=$e(ri(this.node,!0),ri(this.node,!1))}unmount(){}}class ic extends Ge{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=$e(Me(this.node.current,"focus",()=>this.onFocus()),Me(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const Ws=(e,t)=>t?e===t?!0:Ws(e,t.parentElement):!1;function vn(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,pn(n))}class sc extends Ge{constructor(){super(...arguments),this.removeStartListeners=se,this.removeEndListeners=se,this.removeAccessibleListeners=se,this.startPointerPress=(t,n)=>{if(this.removeEndListeners(),this.isPressing)return;const r=this.node.getProps(),s=Ve(window,"pointerup",(c,a)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:l}=this.node.getProps();Q.update(()=>{Ws(this.node.current,c.target)?u&&u(c,a):l&&l(c,a)})},{passive:!(r.onTap||r.onPointerUp)}),o=Ve(window,"pointercancel",(c,a)=>this.cancelPress(c,a),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=$e(s,o),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=c=>{c.key!=="Enter"||!this.checkPressEnd()||vn("up",(a,u)=>{const{onTap:l}=this.node.getProps();l&&Q.update(()=>l(a,u))})};this.removeEndListeners(),this.removeEndListeners=Me(this.node.current,"keyup",o),vn("down",(c,a)=>{this.startPress(c,a)})},n=Me(this.node.current,"keydown",t),r=()=>{this.isPressing&&vn("cancel",(s,o)=>this.cancelPress(s,o))},i=Me(this.node.current,"blur",r);this.removeAccessibleListeners=$e(n,i)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Q.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!$s()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Q.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=Ve(this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=Me(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=$e(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Vn=new WeakMap,bn=new WeakMap,oc=e=>{const t=Vn.get(e.target);t&&t(e)},ac=e=>{e.forEach(oc)};function cc({root:e,...t}){const n=e||document;bn.has(n)||bn.set(n,{});const r=bn.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(ac,{root:e,...t})),r[i]}function lc(e,t,n){const r=cc(t);return Vn.set(e,n),r.observe(e),()=>{Vn.delete(e),r.unobserve(e)}}const uc={some:0,all:1};class hc extends Ge{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:uc[i]},c=a=>{const{isIntersecting:u}=a;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:l,onViewportLeave:h}=this.node.getProps(),d=u?l:h;d&&d(a)};return lc(this.node.current,o,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(fc(t,n))&&this.startObserver()}unmount(){}}function fc({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const dc={inView:{Feature:hc},tap:{Feature:sc},focus:{Feature:ic},hover:{Feature:rc}};function Us(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function pc(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function mc(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function mn(e,t,n){const r=e.getProps();return wr(r,t,n!==void 0?n:r.custom,pc(e),mc(e))}const gc="framerAppearId",yc="data-"+br(gc);let vc=se,Cr=se;const We=e=>e*1e3,_e=e=>e/1e3,bc={current:!1},Hs=e=>Array.isArray(e)&&typeof e[0]=="number";function Gs(e){return!!(!e||typeof e=="string"&&qs[e]||Hs(e)||Array.isArray(e)&&e.every(Gs))}const vt=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,qs={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:vt([0,.65,.55,1]),circOut:vt([.55,0,1,.45]),backIn:vt([.31,.01,.66,-.59]),backOut:vt([.33,1.53,.69,.99])};function Ks(e){if(e)return Hs(e)?vt(e):Array.isArray(e)?e.map(Ks):qs[e]}function xc(e,t,n,{delay:r=0,duration:i,repeat:s=0,repeatType:o="loop",ease:c,times:a}={}){const u={[t]:n};a&&(u.offset=a);const l=Ks(c);return Array.isArray(l)&&(u.easing=l),e.animate(u,{delay:r,duration:i,easing:Array.isArray(l)?"linear":l,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}function wc(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const Xs=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,Cc=1e-7,Pc=12;function Tc(e,t,n,r,i){let s,o,c=0;do o=t+(n-t)/2,s=Xs(o,r,i)-e,s>0?n=o:t=o;while(Math.abs(s)>Cc&&++c<Pc);return o}function Mt(e,t,n,r){if(e===t&&n===r)return se;const i=s=>Tc(s,0,1,e,n);return s=>s===0||s===1?s:Xs(i(s),t,r)}const kc=Mt(.42,0,1,1),Ec=Mt(0,0,.58,1),Ys=Mt(.42,0,.58,1),Sc=e=>Array.isArray(e)&&typeof e[0]!="number",Zs=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Qs=e=>t=>1-e(1-t),Js=e=>1-Math.sin(Math.acos(e)),Pr=Qs(Js),Oc=Zs(Pr),eo=Mt(.33,1.53,.69,.99),Tr=Qs(eo),Ac=Zs(Tr),Lc=e=>(e*=2)<1?.5*Tr(e):.5*(2-Math.pow(2,-10*(e-1))),Rc={linear:se,easeIn:kc,easeInOut:Ys,easeOut:Ec,circIn:Js,circInOut:Oc,circOut:Pr,backIn:Tr,backInOut:Ac,backOut:eo,anticipate:Lc},ii=e=>{if(Array.isArray(e)){Cr(e.length===4);const[t,n,r,i]=e;return Mt(t,n,r,i)}else if(typeof e=="string")return Rc[e];return e},kr=(e,t)=>n=>!!(Rt(n)&&La.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),to=(e,t,n)=>r=>{if(!Rt(r))return r;const[i,s,o,c]=r.match(fn);return{[e]:parseFloat(i),[t]:parseFloat(s),[n]:parseFloat(o),alpha:c!==void 0?parseFloat(c):1}},Dc=e=>Ue(0,255,e),xn={...st,transform:e=>Math.round(Dc(e))},Je={test:kr("rgb","red"),parse:to("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+xn.transform(e)+", "+xn.transform(t)+", "+xn.transform(n)+", "+xt(bt.transform(r))+")"};function Mc(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const _n={test:kr("#"),parse:Mc,transform:Je.transform},lt={test:kr("hsl","hue"),parse:to("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Ae.transform(xt(t))+", "+Ae.transform(xt(n))+", "+xt(bt.transform(r))+")"},ge={test:e=>Je.test(e)||_n.test(e)||lt.test(e),parse:e=>Je.test(e)?Je.parse(e):lt.test(e)?lt.parse(e):_n.parse(e),transform:e=>Rt(e)?e:e.hasOwnProperty("red")?Je.transform(e):lt.transform(e)},re=(e,t,n)=>-n*e+n*t+e;function wn(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Vc({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,s=0,o=0;if(!t)i=s=o=n;else{const c=n<.5?n*(1+t):n+t-n*t,a=2*n-c;i=wn(a,c,e+1/3),s=wn(a,c,e),o=wn(a,c,e-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}const Cn=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},_c=[_n,Je,lt],Fc=e=>_c.find(t=>t.test(e));function si(e){const t=Fc(e);let n=t.parse(e);return t===lt&&(n=Vc(n)),n}const no=(e,t)=>{const n=si(e),r=si(t),i={...n};return s=>(i.red=Cn(n.red,r.red,s),i.green=Cn(n.green,r.green,s),i.blue=Cn(n.blue,r.blue,s),i.alpha=re(n.alpha,r.alpha,s),Je.transform(i))};function Ic(e){var t,n;return isNaN(e)&&Rt(e)&&(((t=e.match(fn))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(As))===null||n===void 0?void 0:n.length)||0)>0}const ro={regex:Oa,countKey:"Vars",token:"${v}",parse:se},io={regex:As,countKey:"Colors",token:"${c}",parse:ge.parse},so={regex:fn,countKey:"Numbers",token:"${n}",parse:st.parse};function Pn(e,{regex:t,countKey:n,token:r,parse:i}){const s=e.tokenised.match(t);s&&(e["num"+n]=s.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...s.map(i)))}function Jt(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Pn(n,ro),Pn(n,io),Pn(n,so),n}function oo(e){return Jt(e).values}function ao(e){const{values:t,numColors:n,numVars:r,tokenised:i}=Jt(e),s=t.length;return o=>{let c=i;for(let a=0;a<s;a++)a<r?c=c.replace(ro.token,o[a]):a<r+n?c=c.replace(io.token,ge.transform(o[a])):c=c.replace(so.token,xt(o[a]));return c}}const Bc=e=>typeof e=="number"?0:e;function jc(e){const t=oo(e);return ao(e)(t.map(Bc))}const He={test:Ic,parse:oo,createTransformer:ao,getAnimatableNone:jc},co=(e,t)=>n=>`${n>0?t:e}`;function lo(e,t){return typeof e=="number"?n=>re(e,t,n):ge.test(e)?no(e,t):e.startsWith("var(")?co(e,t):ho(e,t)}const uo=(e,t)=>{const n=[...e],r=n.length,i=e.map((s,o)=>lo(s,t[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}},Nc=(e,t)=>{const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=lo(e[i],t[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}},ho=(e,t)=>{const n=He.createTransformer(t),r=Jt(e),i=Jt(t);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?$e(uo(r.values,i.values),n):co(e,t)},Ot=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},oi=(e,t)=>n=>re(e,t,n);function zc(e){return typeof e=="number"?oi:typeof e=="string"?ge.test(e)?no:ho:Array.isArray(e)?uo:typeof e=="object"?Nc:oi}function $c(e,t,n){const r=[],i=n||zc(e[0]),s=e.length-1;for(let o=0;o<s;o++){let c=i(e[o],e[o+1]);if(t){const a=Array.isArray(t)?t[o]||se:t;c=$e(a,c)}r.push(c)}return r}function fo(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const s=e.length;if(Cr(s===t.length),s===1)return()=>t[0];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=$c(t,r,i),c=o.length,a=u=>{let l=0;if(c>1)for(;l<e.length-2&&!(u<e[l+1]);l++);const h=Ot(e[l],e[l+1],u);return o[l](h)};return n?u=>a(Ue(e[0],e[s-1],u)):a}function Wc(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=Ot(0,t,r);e.push(re(n,1,i))}}function Uc(e){const t=[0];return Wc(t,e.length-1),t}function Hc(e,t){return e.map(n=>n*t)}function Gc(e,t){return e.map(()=>t||Ys).splice(0,e.length-1)}function en({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=Sc(r)?r.map(ii):ii(r),s={done:!1,value:t[0]},o=Hc(n&&n.length===t.length?n:Uc(t),e),c=fo(o,t,{ease:Array.isArray(i)?i:Gc(t,i)});return{calculatedDuration:e,next:a=>(s.value=c(a),s.done=a>=e,s)}}function po(e,t){return t?e*(1e3/t):0}const qc=5;function mo(e,t,n){const r=Math.max(t-qc,0);return po(n-e(r),t-r)}const Tn=.001,Kc=.01,ai=10,Xc=.05,Yc=1;function Zc({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let i,s;vc(e<=We(ai));let o=1-t;o=Ue(Xc,Yc,o),e=Ue(Kc,ai,_e(e)),o<1?(i=u=>{const l=u*o,h=l*e,d=l-n,m=Fn(u,o),x=Math.exp(-h);return Tn-d/m*x},s=u=>{const h=u*o*e,d=h*n+n,m=Math.pow(o,2)*Math.pow(u,2)*e,x=Math.exp(-h),T=Fn(Math.pow(u,2),o);return(-i(u)+Tn>0?-1:1)*((d-m)*x)/T}):(i=u=>{const l=Math.exp(-u*e),h=(u-n)*e+1;return-Tn+l*h},s=u=>{const l=Math.exp(-u*e),h=(n-u)*(e*e);return l*h});const c=5/e,a=Jc(i,s,c);if(e=We(e),isNaN(a))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(a,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:e}}}const Qc=12;function Jc(e,t,n){let r=n;for(let i=1;i<Qc;i++)r=r-e(r)/t(r);return r}function Fn(e,t){return e*Math.sqrt(1-t*t)}const el=["duration","bounce"],tl=["stiffness","damping","mass"];function ci(e,t){return t.some(n=>e[n]!==void 0)}function nl(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!ci(e,tl)&&ci(e,el)){const n=Zc(e);t={...t,...n,velocity:0,mass:1},t.isResolvedFromDuration=!0}return t}function go({keyframes:e,restDelta:t,restSpeed:n,...r}){const i=e[0],s=e[e.length-1],o={done:!1,value:i},{stiffness:c,damping:a,mass:u,velocity:l,duration:h,isResolvedFromDuration:d}=nl(r),m=l?-_e(l):0,x=a/(2*Math.sqrt(c*u)),T=s-i,k=_e(Math.sqrt(c/u)),S=Math.abs(T)<5;n||(n=S?.01:2),t||(t=S?.005:.5);let b;if(x<1){const E=Fn(k,x);b=O=>{const A=Math.exp(-x*k*O);return s-A*((m+x*k*T)/E*Math.sin(E*O)+T*Math.cos(E*O))}}else if(x===1)b=E=>s-Math.exp(-k*E)*(T+(m+k*T)*E);else{const E=k*Math.sqrt(x*x-1);b=O=>{const A=Math.exp(-x*k*O),R=Math.min(E*O,300);return s-A*((m+x*k*T)*Math.sinh(R)+E*T*Math.cosh(R))/E}}return{calculatedDuration:d&&h||null,next:E=>{const O=b(E);if(d)o.done=E>=h;else{let A=m;E!==0&&(x<1?A=mo(b,E,O):A=0);const R=Math.abs(A)<=n,C=Math.abs(s-O)<=t;o.done=R&&C}return o.value=o.done?s:O,o}}}function li({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:c,max:a,restDelta:u=.5,restSpeed:l}){const h=e[0],d={done:!1,value:h},m=p=>c!==void 0&&p<c||a!==void 0&&p>a,x=p=>c===void 0?a:a===void 0||Math.abs(c-p)<Math.abs(a-p)?c:a;let T=n*t;const k=h+T,S=o===void 0?k:o(k);S!==k&&(T=S-h);const b=p=>-T*Math.exp(-p/r),E=p=>S+b(p),O=p=>{const f=b(p),w=E(p);d.done=Math.abs(f)<=u,d.value=d.done?S:w};let A,R;const C=p=>{m(d.value)&&(A=p,R=go({keyframes:[d.value,x(d.value)],velocity:mo(E,p,d.value),damping:i,stiffness:s,restDelta:u,restSpeed:l}))};return C(0),{calculatedDuration:null,next:p=>{let f=!1;return!R&&A===void 0&&(f=!0,O(p),C(p)),A!==void 0&&p>A?R.next(p-A):(!f&&O(p),d)}}}const rl=e=>{const t=({timestamp:n})=>e(n);return{start:()=>Q.update(t,!0),stop:()=>Fe(t),now:()=>de.isProcessing?de.timestamp:performance.now()}},ui=2e4;function hi(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<ui;)t+=n,r=e.next(t);return t>=ui?1/0:t}const il={decay:li,inertia:li,tween:en,keyframes:en,spring:go};function tn({autoplay:e=!0,delay:t=0,driver:n=rl,keyframes:r,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:c="loop",onPlay:a,onStop:u,onComplete:l,onUpdate:h,...d}){let m=1,x=!1,T,k;const S=()=>{k=new Promise(U=>{T=U})};S();let b;const E=il[i]||en;let O;E!==en&&typeof r[0]!="number"&&(O=fo([0,100],r,{clamp:!1}),r=[0,100]);const A=E({...d,keyframes:r});let R;c==="mirror"&&(R=E({...d,keyframes:[...r].reverse(),velocity:-(d.velocity||0)}));let C="idle",p=null,f=null,w=null;A.calculatedDuration===null&&s&&(A.calculatedDuration=hi(A));const{calculatedDuration:L}=A;let M=1/0,F=1/0;L!==null&&(M=L+o,F=M*(s+1)-o);let P=0;const V=U=>{if(f===null)return;m>0&&(f=Math.min(f,U)),m<0&&(f=Math.min(U-F/m,f)),p!==null?P=p:P=Math.round(U-f)*m;const _=P-t*(m>=0?1:-1),Y=m>=0?_<0:_>F;P=Math.max(_,0),C==="finished"&&p===null&&(P=F);let fe=P,J=A;if(s){const z=P/M;let H=Math.floor(z),q=z%1;!q&&z>=1&&(q=1),q===1&&H--,H=Math.min(H,s+1);const ie=!!(H%2);ie&&(c==="reverse"?(q=1-q,o&&(q-=o/M)):c==="mirror"&&(J=R));let K=Ue(0,1,q);P>F&&(K=c==="reverse"&&ie?1:0),fe=K*M}const te=Y?{done:!1,value:r[0]}:J.next(fe);O&&(te.value=O(te.value));let{done:oe}=te;!Y&&L!==null&&(oe=m>=0?P>=F:P<=0);const ce=p===null&&(C==="finished"||C==="running"&&oe);return h&&h(te.value),ce&&G(),te},B=()=>{b&&b.stop(),b=void 0},D=()=>{C="idle",B(),T(),S(),f=w=null},G=()=>{C="finished",l&&l(),B(),T()},j=()=>{if(x)return;b||(b=n(V));const U=b.now();a&&a(),p!==null?f=U-p:(!f||C==="finished")&&(f=U),C==="finished"&&S(),w=f,p=null,C="running",b.start()};e&&j();const he={then(U,_){return k.then(U,_)},get time(){return _e(P)},set time(U){U=We(U),P=U,p!==null||!b||m===0?p=U:f=b.now()-U/m},get duration(){const U=A.calculatedDuration===null?hi(A):A.calculatedDuration;return _e(U)},get speed(){return m},set speed(U){U===m||!b||(m=U,he.time=_e(P))},get state(){return C},play:j,pause:()=>{C="paused",p=P},stop:()=>{x=!0,C!=="idle"&&(C="idle",u&&u(),D())},cancel:()=>{w!==null&&V(w),D()},complete:()=>{C="finished"},sample:U=>(f=0,V(U))};return he}function sl(e){let t;return()=>(t===void 0&&(t=e()),t)}const ol=sl(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),al=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Bt=10,cl=2e4,ll=(e,t)=>t.type==="spring"||e==="backgroundColor"||!Gs(t.ease);function ul(e,t,{onUpdate:n,onComplete:r,...i}){if(!(ol()&&al.has(t)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let o=!1,c,a;const u=()=>{a=new Promise(b=>{c=b})};u();let{keyframes:l,duration:h=300,ease:d,times:m}=i;if(ll(t,i)){const b=tn({...i,repeat:0,delay:0});let E={done:!1,value:l[0]};const O=[];let A=0;for(;!E.done&&A<cl;)E=b.sample(A),O.push(E.value),A+=Bt;m=void 0,l=O,h=A-Bt,d="linear"}const x=xc(e.owner.current,t,l,{...i,duration:h,ease:d,times:m});i.syncStart&&(x.startTime=de.isProcessing?de.timestamp:document.timeline?document.timeline.currentTime:performance.now());const T=()=>x.cancel(),k=()=>{Q.update(T),c(),u()};return x.onfinish=()=>{e.set(wc(l,i)),r&&r(),k()},{then(b,E){return a.then(b,E)},attachTimeline(b){return x.timeline=b,x.onfinish=null,se},get time(){return _e(x.currentTime||0)},set time(b){x.currentTime=We(b)},get speed(){return x.playbackRate},set speed(b){x.playbackRate=b},get duration(){return _e(h)},play:()=>{o||(x.play(),Fe(T))},pause:()=>x.pause(),stop:()=>{if(o=!0,x.playState==="idle")return;const{currentTime:b}=x;if(b){const E=tn({...i,autoplay:!1});e.setWithVelocity(E.sample(b-Bt).value,E.sample(b).value,Bt)}k()},complete:()=>x.finish(),cancel:k}}function hl({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const i=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:se,pause:se,stop:se,then:s=>(s(),Promise.resolve()),cancel:se,complete:se});return t?tn({keyframes:[0,1],duration:0,delay:t,onComplete:i}):i()}const fl={type:"spring",stiffness:500,damping:25,restSpeed:10},dl=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),pl={type:"keyframes",duration:.8},ml={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},gl=(e,{keyframes:t})=>t.length>2?pl:it.has(e)?e.startsWith("scale")?dl(t[1]):fl:ml,In=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(He.test(t)||t==="0")&&!t.startsWith("url(")),yl=new Set(["brightness","contrast","saturate","opacity"]);function vl(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(fn)||[];if(!r)return e;const i=n.replace(r,"");let s=yl.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+i+")"}const bl=/([a-z-]*)\(.*?\)/g,Bn={...He,getAnimatableNone:e=>{const t=e.match(bl);return t?t.map(vl).join(" "):e}},xl={...Ls,color:ge,backgroundColor:ge,outlineColor:ge,fill:ge,stroke:ge,borderColor:ge,borderTopColor:ge,borderRightColor:ge,borderBottomColor:ge,borderLeftColor:ge,filter:Bn,WebkitFilter:Bn},Er=e=>xl[e];function yo(e,t){let n=Er(e);return n!==Bn&&(n=He),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const vo=e=>/^0[^.\s]+$/.test(e);function wl(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||vo(e)}function Cl(e,t,n,r){const i=In(t,n);let s;Array.isArray(n)?s=[...n]:s=[null,n];const o=r.from!==void 0?r.from:e.get();let c;const a=[];for(let u=0;u<s.length;u++)s[u]===null&&(s[u]=u===0?o:s[u-1]),wl(s[u])&&a.push(u),typeof s[u]=="string"&&s[u]!=="none"&&s[u]!=="0"&&(c=s[u]);if(i&&a.length&&c)for(let u=0;u<a.length;u++){const l=a[u];s[l]=yo(t,c)}return s}function Pl({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:c,from:a,elapsed:u,...l}){return!!Object.keys(l).length}function bo(e,t){return e[t]||e.default||e}const Sr=(e,t,n,r={})=>i=>{const s=bo(r,e)||{},o=s.delay||r.delay||0;let{elapsed:c=0}=r;c=c-We(o);const a=Cl(t,e,n,s),u=a[0],l=a[a.length-1],h=In(e,u),d=In(e,l);let m={keyframes:a,velocity:t.getVelocity(),ease:"easeOut",...s,delay:-c,onUpdate:x=>{t.set(x),s.onUpdate&&s.onUpdate(x)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(Pl(s)||(m={...m,...gl(e,m)}),m.duration&&(m.duration=We(m.duration)),m.repeatDelay&&(m.repeatDelay=We(m.repeatDelay)),!h||!d||bc.current||s.type===!1)return hl(m);if(t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const x=ul(t,e,m);if(x)return x}return tn(m)};function nn(e){return!!(ve(e)&&e.add)}const xo=e=>/^\-?\d*\.?\d+$/.test(e);function Or(e,t){e.indexOf(t)===-1&&e.push(t)}function Ar(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Lr{constructor(){this.subscriptions=[]}add(t){return Or(this.subscriptions,t),()=>Ar(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Tl=e=>!isNaN(parseFloat(e));class kl{constructor(t,n={}){this.version="10.16.5",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:s,timestamp:o}=de;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,Q.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Q.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=Tl(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Lr);const r=this.events[t].add(n);return t==="change"?()=>{r(),Q.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?po(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function rt(e,t){return new kl(e,t)}const wo=e=>t=>t.test(e),El={test:e=>e==="auto",parse:e=>e},Co=[st,W,Ae,Ne,Da,Ra,El],gt=e=>Co.find(wo(e)),Sl=[...Co,ge,He],Ol=e=>Sl.find(wo(e));function Al(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,rt(n))}function Ll(e,t){const n=mn(e,t);let{transitionEnd:r={},transition:i={},...s}=n?e.makeTargetAnimatable(n,!1):{};s={...s,...r};for(const o in s){const c=Ga(s[o]);Al(e,o,c)}}function Rl(e,t,n){var r,i;const s=Object.keys(t).filter(c=>!e.hasValue(c)),o=s.length;if(o)for(let c=0;c<o;c++){const a=s[c],u=t[a];let l=null;Array.isArray(u)&&(l=u[0]),l===null&&(l=(i=(r=n[a])!==null&&r!==void 0?r:e.readValue(a))!==null&&i!==void 0?i:t[a]),l!=null&&(typeof l=="string"&&(xo(l)||vo(l))?l=parseFloat(l):!Ol(l)&&He.test(u)&&(l=yo(a,u)),e.addValue(a,rt(l,{owner:e})),n[a]===void 0&&(n[a]=l),l!==null&&e.setBaseTarget(a,l))}}function Dl(e,t){return t?(t[e]||t.default||t).from:void 0}function Ml(e,t,n){const r={};for(const i in e){const s=Dl(i,t);if(s!==void 0)r[i]=s;else{const o=n.getValue(i);o&&(r[i]=o.get())}}return r}function Vl({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function Po(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=e.getDefaultTransition(),transitionEnd:o,...c}=e.makeTargetAnimatable(t);const a=e.getValue("willChange");r&&(s=r);const u=[],l=i&&e.animationState&&e.animationState.getState()[i];for(const h in c){const d=e.getValue(h),m=c[h];if(!d||m===void 0||l&&Vl(l,h))continue;const x={delay:n,elapsed:0,...s};if(window.HandoffAppearAnimations&&!d.hasAnimated){const k=e.getProps()[yc];k&&(x.elapsed=window.HandoffAppearAnimations(k,h,d,Q),x.syncStart=!0)}d.start(Sr(h,d,m,e.shouldReduceMotion&&it.has(h)?{type:!1}:x));const T=d.animation;nn(a)&&(a.add(h),T.then(()=>a.remove(h))),u.push(T)}return o&&Promise.all(u).then(()=>{o&&Ll(e,o)}),u}function jn(e,t,n={}){const r=mn(e,t,n.custom);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(Po(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(a=0)=>{const{delayChildren:u=0,staggerChildren:l,staggerDirection:h}=i;return _l(e,t,u+a,l,h,n)}:()=>Promise.resolve(),{when:c}=i;if(c){const[a,u]=c==="beforeChildren"?[s,o]:[o,s];return a().then(()=>u())}else return Promise.all([s(),o(n.delay)])}function _l(e,t,n=0,r=0,i=1,s){const o=[],c=(e.variantChildren.size-1)*r,a=i===1?(u=0)=>u*r:(u=0)=>c-u*r;return Array.from(e.variantChildren).sort(Fl).forEach((u,l)=>{u.notify("AnimationStart",t),o.push(jn(u,t,{...s,delay:n+a(l)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function Fl(e,t){return e.sortNodePosition(t)}function Il(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(s=>jn(e,s,n));r=Promise.all(i)}else if(typeof t=="string")r=jn(e,t,n);else{const i=typeof t=="function"?mn(e,t,n.custom):t;r=Promise.all(Po(e,i,n))}return r.then(()=>e.notify("AnimationComplete",t))}const Bl=[...hr].reverse(),jl=hr.length;function Nl(e){return t=>Promise.all(t.map(({animation:n,options:r})=>Il(e,n,r)))}function zl(e){let t=Nl(e);const n=Wl();let r=!0;const i=(a,u)=>{const l=mn(e,u);if(l){const{transition:h,transitionEnd:d,...m}=l;a={...a,...m,...d}}return a};function s(a){t=a(e)}function o(a,u){const l=e.getProps(),h=e.getVariantContext(!0)||{},d=[],m=new Set;let x={},T=1/0;for(let S=0;S<jl;S++){const b=Bl[S],E=n[b],O=l[b]!==void 0?l[b]:h[b],A=Et(O),R=b===u?E.isActive:null;R===!1&&(T=S);let C=O===h[b]&&O!==l[b]&&A;if(C&&r&&e.manuallyAnimateOnMount&&(C=!1),E.protectedKeys={...x},!E.isActive&&R===null||!O&&!E.prevProp||un(O)||typeof O=="boolean")continue;const p=$l(E.prevProp,O);let f=p||b===u&&E.isActive&&!C&&A||S>T&&A;const w=Array.isArray(O)?O:[O];let L=w.reduce(i,{});R===!1&&(L={});const{prevResolvedValues:M={}}=E,F={...M,...L},P=V=>{f=!0,m.delete(V),E.needsAnimating[V]=!0};for(const V in F){const B=L[V],D=M[V];x.hasOwnProperty(V)||(B!==D?Qt(B)&&Qt(D)?!Us(B,D)||p?P(V):E.protectedKeys[V]=!0:B!==void 0?P(V):m.add(V):B!==void 0&&m.has(V)?P(V):E.protectedKeys[V]=!0)}E.prevProp=O,E.prevResolvedValues=L,E.isActive&&(x={...x,...L}),r&&e.blockInitialAnimation&&(f=!1),f&&!C&&d.push(...w.map(V=>({animation:V,options:{type:b,...a}})))}if(m.size){const S={};m.forEach(b=>{const E=e.getBaseTarget(b);E!==void 0&&(S[b]=E)}),d.push({animation:S})}let k=!!d.length;return r&&l.initial===!1&&!e.manuallyAnimateOnMount&&(k=!1),r=!1,k?t(d):Promise.resolve()}function c(a,u,l){var h;if(n[a].isActive===u)return Promise.resolve();(h=e.variantChildren)===null||h===void 0||h.forEach(m=>{var x;return(x=m.animationState)===null||x===void 0?void 0:x.setActive(a,u)}),n[a].isActive=u;const d=o(l,a);for(const m in n)n[m].protectedKeys={};return d}return{animateChanges:o,setActive:c,setAnimateFunction:s,getState:()=>n}}function $l(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Us(t,e):!1}function Xe(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Wl(){return{animate:Xe(!0),whileInView:Xe(),whileHover:Xe(),whileTap:Xe(),whileDrag:Xe(),whileFocus:Xe(),exit:Xe()}}class Ul extends Ge{constructor(t){super(t),t.animationState||(t.animationState=zl(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),un(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let Hl=0;class Gl extends Ge{constructor(){super(...arguments),this.id=Hl++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const s=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&s.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const ql={animation:{Feature:Ul},exit:{Feature:Gl}},fi=(e,t)=>Math.abs(e-t);function Kl(e,t){const n=fi(e.x,t.x),r=fi(e.y,t.y);return Math.sqrt(n**2+r**2)}class To{constructor(t,n,{transformPagePoint:r}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const u=En(this.lastMoveEventInfo,this.history),l=this.startEvent!==null,h=Kl(u.offset,{x:0,y:0})>=3;if(!l&&!h)return;const{point:d}=u,{timestamp:m}=de;this.history.push({...d,timestamp:m});const{onStart:x,onMove:T}=this.handlers;l||(x&&x(this.lastMoveEvent,u),this.startEvent=this.lastMoveEvent),T&&T(this.lastMoveEvent,u)},this.handlePointerMove=(u,l)=>{this.lastMoveEvent=u,this.lastMoveEventInfo=kn(l,this.transformPagePoint),Q.update(this.updatePoint,!0)},this.handlePointerUp=(u,l)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:h,onSessionEnd:d}=this.handlers,m=En(u.type==="pointercancel"?this.lastMoveEventInfo:kn(l,this.transformPagePoint),this.history);this.startEvent&&h&&h(u,m),d&&d(u,m)},!js(t))return;this.handlers=n,this.transformPagePoint=r;const i=pn(t),s=kn(i,this.transformPagePoint),{point:o}=s,{timestamp:c}=de;this.history=[{...o,timestamp:c}];const{onSessionStart:a}=n;a&&a(t,En(s,this.history)),this.removeListeners=$e(Ve(window,"pointermove",this.handlePointerMove),Ve(window,"pointerup",this.handlePointerUp),Ve(window,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Fe(this.updatePoint)}}function kn(e,t){return t?{point:t(e.point)}:e}function di(e,t){return{x:e.x-t.x,y:e.y-t.y}}function En({point:e},t){return{point:e,delta:di(e,ko(t)),offset:di(e,Xl(t)),velocity:Yl(t,.1)}}function Xl(e){return e[0]}function ko(e){return e[e.length-1]}function Yl(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=ko(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>We(t)));)n--;if(!r)return{x:0,y:0};const s=_e(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function be(e){return e.max-e.min}function Nn(e,t=0,n=.01){return Math.abs(e-t)<=n}function pi(e,t,n,r=.5){e.origin=r,e.originPoint=re(t.min,t.max,e.origin),e.scale=be(n)/be(t),(Nn(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=re(n.min,n.max,e.origin)-e.originPoint,(Nn(e.translate)||isNaN(e.translate))&&(e.translate=0)}function wt(e,t,n,r){pi(e.x,t.x,n.x,r?r.originX:void 0),pi(e.y,t.y,n.y,r?r.originY:void 0)}function mi(e,t,n){e.min=n.min+t.min,e.max=e.min+be(t)}function Zl(e,t,n){mi(e.x,t.x,n.x),mi(e.y,t.y,n.y)}function gi(e,t,n){e.min=t.min-n.min,e.max=e.min+be(t)}function Ct(e,t,n){gi(e.x,t.x,n.x),gi(e.y,t.y,n.y)}function Ql(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?re(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?re(n,e,r.max):Math.min(e,n)),e}function yi(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function Jl(e,{top:t,left:n,bottom:r,right:i}){return{x:yi(e.x,n,i),y:yi(e.y,t,r)}}function vi(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function eu(e,t){return{x:vi(e.x,t.x),y:vi(e.y,t.y)}}function tu(e,t){let n=.5;const r=be(e),i=be(t);return i>r?n=Ot(t.min,t.max-r,e.min):r>i&&(n=Ot(e.min,e.max-i,t.min)),Ue(0,1,n)}function nu(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const zn=.35;function ru(e=zn){return e===!1?e=0:e===!0&&(e=zn),{x:bi(e,"left","right"),y:bi(e,"top","bottom")}}function bi(e,t,n){return{min:xi(e,t),max:xi(e,n)}}function xi(e,t){return typeof e=="number"?e:e[t]||0}const wi=()=>({translate:0,scale:1,origin:0,originPoint:0}),ut=()=>({x:wi(),y:wi()}),Ci=()=>({min:0,max:0}),ue=()=>({x:Ci(),y:Ci()});function Oe(e){return[e("x"),e("y")]}function Eo({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function iu({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function su(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Sn(e){return e===void 0||e===1}function $n({scale:e,scaleX:t,scaleY:n}){return!Sn(e)||!Sn(t)||!Sn(n)}function Ye(e){return $n(e)||So(e)||e.z||e.rotate||e.rotateX||e.rotateY}function So(e){return Pi(e.x)||Pi(e.y)}function Pi(e){return e&&e!=="0%"}function rn(e,t,n){const r=e-n,i=t*r;return n+i}function Ti(e,t,n,r,i){return i!==void 0&&(e=rn(e,i,r)),rn(e,n,r)+t}function Wn(e,t=0,n=1,r,i){e.min=Ti(e.min,t,n,r,i),e.max=Ti(e.max,t,n,r,i)}function Oo(e,{x:t,y:n}){Wn(e.x,t.translate,t.scale,t.originPoint),Wn(e.y,n.translate,n.scale,n.originPoint)}function ou(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let s,o;for(let c=0;c<i;c++){s=n[c],o=s.projectionDelta;const a=s.instance;a&&a.style&&a.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&ht(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,Oo(e,o)),r&&Ye(s.latestValues)&&ht(e,s.latestValues))}t.x=ki(t.x),t.y=ki(t.y)}function ki(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function ze(e,t){e.min=e.min+t,e.max=e.max+t}function Ei(e,t,[n,r,i]){const s=t[i]!==void 0?t[i]:.5,o=re(e.min,e.max,s);Wn(e,t[n],t[r],o,t.scale)}const au=["x","scaleX","originX"],cu=["y","scaleY","originY"];function ht(e,t){Ei(e.x,t,au),Ei(e.y,t,cu)}function Ao(e,t){return Eo(su(e.getBoundingClientRect(),t))}function lu(e,t,n){const r=Ao(e,n),{scroll:i}=t;return i&&(ze(r.x,i.offset.x),ze(r.y,i.offset.y)),r}const uu=new WeakMap;class hu{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ue(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=a=>{this.stopAnimation(),n&&this.snapToCursor(pn(a,"page").point)},s=(a,u)=>{const{drag:l,dragPropagation:h,onDragStart:d}=this.getProps();if(l&&!h&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=zs(l),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Oe(x=>{let T=this.getAxisMotionValue(x).get()||0;if(Ae.test(T)){const{projection:k}=this.visualElement;if(k&&k.layout){const S=k.layout.layoutBox[x];S&&(T=be(S)*(parseFloat(T)/100))}}this.originPoint[x]=T}),d&&Q.update(()=>d(a,u),!1,!0);const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},o=(a,u)=>{const{dragPropagation:l,dragDirectionLock:h,onDirectionLock:d,onDrag:m}=this.getProps();if(!l&&!this.openGlobalLock)return;const{offset:x}=u;if(h&&this.currentDirection===null){this.currentDirection=fu(x),this.currentDirection!==null&&d&&d(this.currentDirection);return}this.updateAxis("x",u.point,x),this.updateAxis("y",u.point,x),this.visualElement.render(),m&&m(a,u)},c=(a,u)=>this.stop(a,u);this.panSession=new To(t,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:c},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Q.update(()=>s(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!jt(t,i,this.currentDirection))return;const s=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=Ql(o,this.constraints[t],this.elastic[t])),s.set(o)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),{layout:r}=this.visualElement.projection||{},i=this.constraints;t&&ct(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=Jl(r.layoutBox,t):this.constraints=!1,this.elastic=ru(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Oe(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=nu(r.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!ct(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=lu(r,i.root,this.visualElement.getTransformPagePoint());let o=eu(i.layout.layoutBox,s);if(n){const c=n(iu(o));this.hasMutatedConstraints=!!c,c&&(o=Eo(c))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:c}=this.getProps(),a=this.constraints||{},u=Oe(l=>{if(!jt(l,n,this.currentDirection))return;let h=a&&a[l]||{};o&&(h={min:0,max:0});const d=i?200:1e6,m=i?40:1e7,x={type:"inertia",velocity:r?t[l]:0,bounceStiffness:d,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(l,x)});return Promise.all(u).then(c)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(Sr(t,r,0,n))}stopAnimation(){Oe(t=>this.getAxisMotionValue(t).stop())}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Oe(n=>{const{drag:r}=this.getProps();if(!jt(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:c}=i.layout.layoutBox[n];s.set(t[n]-re(o,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!ct(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Oe(o=>{const c=this.getAxisMotionValue(o);if(c){const a=c.get();i[o]=tu({min:a,max:a},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Oe(o=>{if(!jt(o,t,null))return;const c=this.getAxisMotionValue(o),{min:a,max:u}=this.constraints[o];c.set(re(a,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;uu.set(this.visualElement,this);const t=this.visualElement.current,n=Ve(t,"pointerdown",a=>{const{drag:u,dragListener:l=!0}=this.getProps();u&&l&&this.start(a)}),r=()=>{const{dragConstraints:a}=this.getProps();ct(a)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const o=Me(window,"resize",()=>this.scalePositionWithinConstraints()),c=i.addEventListener("didUpdate",({delta:a,hasLayoutChanged:u})=>{this.isDragging&&u&&(Oe(l=>{const h=this.getAxisMotionValue(l);h&&(this.originPoint[l]+=a[l].translate,h.set(h.get()+a[l].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),c&&c()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=zn,dragMomentum:c=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:c}}}function jt(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function fu(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class du extends Ge{constructor(t){super(t),this.removeGroupControls=se,this.removeListeners=se,this.controls=new hu(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||se}unmount(){this.removeGroupControls(),this.removeListeners()}}const Si=e=>(t,n)=>{e&&Q.update(()=>e(t,n))};class pu extends Ge{constructor(){super(...arguments),this.removePointerDownListener=se}onPointerDown(t){this.session=new To(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:Si(t),onStart:Si(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&Q.update(()=>i(s,o))}}}mount(){this.removePointerDownListener=Ve(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function mu(){const e=v.useContext(cn);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,i=v.useId();return v.useEffect(()=>r(i),[]),!t&&n?[!1,()=>n&&n(i)]:[!0]}const qt={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Oi(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const yt={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(W.test(e))e=parseFloat(e);else return e;const n=Oi(e,t.target.x),r=Oi(e,t.target.y);return`${n}% ${r}%`}},gu={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=He.parse(e);if(i.length>5)return r;const s=He.createTransformer(e),o=typeof i[0]!="number"?1:0,c=n.x.scale*t.x,a=n.y.scale*t.y;i[0+o]/=c,i[1+o]/=a;const u=re(c,a,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}};class yu extends $.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=t;Ta(vu),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),qt.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||t.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?o.promote():o.relegate()||Q.postRender(()=>{const c=o.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Lo(e){const[t,n]=mu(),r=v.useContext(dr);return $.createElement(yu,{...e,layoutGroup:r,switchLayoutGroup:v.useContext(ks),isPresent:t,safeToRemove:n})}const vu={borderRadius:{...yt,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:yt,borderTopRightRadius:yt,borderBottomLeftRadius:yt,borderBottomRightRadius:yt,boxShadow:gu},Ro=["TopLeft","TopRight","BottomLeft","BottomRight"],bu=Ro.length,Ai=e=>typeof e=="string"?parseFloat(e):e,Li=e=>typeof e=="number"||W.test(e);function xu(e,t,n,r,i,s){i?(e.opacity=re(0,n.opacity!==void 0?n.opacity:1,wu(r)),e.opacityExit=re(t.opacity!==void 0?t.opacity:1,0,Cu(r))):s&&(e.opacity=re(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<bu;o++){const c=`border${Ro[o]}Radius`;let a=Ri(t,c),u=Ri(n,c);if(a===void 0&&u===void 0)continue;a||(a=0),u||(u=0),a===0||u===0||Li(a)===Li(u)?(e[c]=Math.max(re(Ai(a),Ai(u),r),0),(Ae.test(u)||Ae.test(a))&&(e[c]+="%")):e[c]=u}(t.rotate||n.rotate)&&(e.rotate=re(t.rotate||0,n.rotate||0,r))}function Ri(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const wu=Do(0,.5,Pr),Cu=Do(.5,.95,se);function Do(e,t,n){return r=>r<e?0:r>t?1:n(Ot(e,t,r))}function Di(e,t){e.min=t.min,e.max=t.max}function Te(e,t){Di(e.x,t.x),Di(e.y,t.y)}function Mi(e,t,n,r,i){return e-=t,e=rn(e,1/n,r),i!==void 0&&(e=rn(e,1/i,r)),e}function Pu(e,t=0,n=1,r=.5,i,s=e,o=e){if(Ae.test(t)&&(t=parseFloat(t),t=re(o.min,o.max,t/100)-o.min),typeof t!="number")return;let c=re(s.min,s.max,r);e===s&&(c-=t),e.min=Mi(e.min,t,n,c,i),e.max=Mi(e.max,t,n,c,i)}function Vi(e,t,[n,r,i],s,o){Pu(e,t[n],t[r],t[i],t.scale,s,o)}const Tu=["x","scaleX","originX"],ku=["y","scaleY","originY"];function _i(e,t,n,r){Vi(e.x,t,Tu,n?n.x:void 0,r?r.x:void 0),Vi(e.y,t,ku,n?n.y:void 0,r?r.y:void 0)}function Fi(e){return e.translate===0&&e.scale===1}function Mo(e){return Fi(e.x)&&Fi(e.y)}function Eu(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function Vo(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function Ii(e){return be(e.x)/be(e.y)}class Su{constructor(){this.members=[]}add(t){Or(this.members,t),t.scheduleRender()}remove(t){if(Ar(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Bi(e,t,n){let r="";const i=e.x.translate/t.x,s=e.y.translate/t.y;if((i||s)&&(r=`translate3d(${i}px, ${s}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:a,rotateX:u,rotateY:l}=n;a&&(r+=`rotate(${a}deg) `),u&&(r+=`rotateX(${u}deg) `),l&&(r+=`rotateY(${l}deg) `)}const o=e.x.scale*t.x,c=e.y.scale*t.y;return(o!==1||c!==1)&&(r+=`scale(${o}, ${c})`),r||"none"}const Ou=(e,t)=>e.depth-t.depth;class Au{constructor(){this.children=[],this.isDirty=!1}add(t){Or(this.children,t),this.isDirty=!0}remove(t){Ar(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Ou),this.isDirty=!1,this.children.forEach(t)}}function Lu(e,t){const n=performance.now(),r=({timestamp:i})=>{const s=i-n;s>=t&&(Fe(r),e(s-t))};return Q.read(r,!0),()=>Fe(r)}function Ru(e){window.MotionDebug&&window.MotionDebug.record(e)}function Du(e){return e instanceof SVGElement&&e.tagName!=="svg"}function Mu(e,t,n){const r=ve(e)?e:rt(e);return r.start(Sr("",r,t,n)),r.animation}const ji=["","X","Y","Z"],Ni=1e3;let Vu=0;const Ze={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function _o({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},c=t==null?void 0:t()){this.id=Vu++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{Ze.totalNodes=Ze.resolvedTargetDeltas=Ze.recalculatedProjection=0,this.nodes.forEach(Iu),this.nodes.forEach($u),this.nodes.forEach(Wu),this.nodes.forEach(Bu),Ru(Ze)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let a=0;a<this.path.length;a++)this.path[a].shouldResetTransform=!0;this.root===this&&(this.nodes=new Au)}addEventListener(o,c){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Lr),this.eventHandlers.get(o).add(c)}notifyListeners(o,...c){const a=this.eventHandlers.get(o);a&&a.notify(...c)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,c=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Du(o),this.instance=o;const{layoutId:a,layout:u,visualElement:l}=this.options;if(l&&!l.current&&l.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),c&&(u||a)&&(this.isLayoutDirty=!0),e){let h;const d=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=Lu(d,250),qt.hasAnimatedSinceResize&&(qt.hasAnimatedSinceResize=!1,this.nodes.forEach($i))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&l&&(a||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:d,hasRelativeTargetChanged:m,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const T=this.options.transition||l.getDefaultTransition()||Ku,{onLayoutAnimationStart:k,onLayoutAnimationComplete:S}=l.getProps(),b=!this.targetLayout||!Vo(this.targetLayout,x)||m,E=!d&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||E||d&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,E);const O={...bo(T,"layout"),onPlay:k,onComplete:S};(l.shouldReduceMotion||this.options.layoutRoot)&&(O.delay=0,O.type=!1),this.startAnimation(O)}else d||$i(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Fe(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Uu),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let l=0;l<this.path.length;l++){const h=this.path[l];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:c,layout:a}=this.options;if(c===void 0&&!a)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(zi);return}this.isUpdating||this.nodes.forEach(Nu),this.isUpdating=!1,this.nodes.forEach(zu),this.nodes.forEach(_u),this.nodes.forEach(Fu),this.clearAllSnapshots();const c=performance.now();de.delta=Ue(0,1e3/60,c-de.timestamp),de.timestamp=c,de.isProcessing=!0,yn.update.process(de),yn.preRender.process(de),yn.render.process(de),de.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(ju),this.sharedNodes.forEach(Hu)}scheduleUpdateProjection(){Q.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){Q.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let a=0;a<this.path.length;a++)this.path[a].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ue(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let c=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(c=!1),c&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,c=this.projectionDelta&&!Mo(this.projectionDelta),a=this.getTransformTemplate(),u=a?a(this.latestValues,""):void 0,l=u!==this.prevTransformTemplateValue;o&&(c||Ye(this.latestValues)||l)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const c=this.measurePageBox();let a=this.removeElementScroll(c);return o&&(a=this.removeTransform(a)),Xu(a),{animationId:this.root.animationId,measuredBox:c,layoutBox:a,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return ue();const c=o.measureViewportBox(),{scroll:a}=this.root;return a&&(ze(c.x,a.offset.x),ze(c.y,a.offset.y)),c}removeElementScroll(o){const c=ue();Te(c,o);for(let a=0;a<this.path.length;a++){const u=this.path[a],{scroll:l,options:h}=u;if(u!==this.root&&l&&h.layoutScroll){if(l.isRoot){Te(c,o);const{scroll:d}=this.root;d&&(ze(c.x,-d.offset.x),ze(c.y,-d.offset.y))}ze(c.x,l.offset.x),ze(c.y,l.offset.y)}}return c}applyTransform(o,c=!1){const a=ue();Te(a,o);for(let u=0;u<this.path.length;u++){const l=this.path[u];!c&&l.options.layoutScroll&&l.scroll&&l!==l.root&&ht(a,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),Ye(l.latestValues)&&ht(a,l.latestValues)}return Ye(this.latestValues)&&ht(a,this.latestValues),a}removeTransform(o){const c=ue();Te(c,o);for(let a=0;a<this.path.length;a++){const u=this.path[a];if(!u.instance||!Ye(u.latestValues))continue;$n(u.latestValues)&&u.updateSnapshot();const l=ue(),h=u.measurePageBox();Te(l,h),_i(c,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,l)}return Ye(this.latestValues)&&_i(c,this.latestValues),c}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==de.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var c;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==a;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:h,layoutId:d}=this.options;if(!(!this.layout||!(h||d))){if(this.resolvedRelativeTargetAt=de.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ue(),this.relativeTargetOrigin=ue(),Ct(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Te(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ue(),this.targetWithTransforms=ue()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Zl(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Te(this.target,this.layout.layoutBox),Oo(this.target,this.targetDelta)):Te(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ue(),this.relativeTargetOrigin=ue(),Ct(this.relativeTargetOrigin,this.target,m.target),Te(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ze.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||$n(this.parent.latestValues)||So(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const c=this.getLead(),a=!!this.resumingFrom||this!==c;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===de.timestamp&&(u=!1),u)return;const{layout:l,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(l||h))return;Te(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,m=this.treeScale.y;ou(this.layoutCorrected,this.treeScale,this.path,a),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox);const{target:x}=c;if(!x){this.projectionTransform&&(this.projectionDelta=ut(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=ut(),this.projectionDeltaWithTransform=ut());const T=this.projectionTransform;wt(this.projectionDelta,this.layoutCorrected,x,this.latestValues),this.projectionTransform=Bi(this.projectionDelta,this.treeScale),(this.projectionTransform!==T||this.treeScale.x!==d||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x)),Ze.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,c=!1){const a=this.snapshot,u=a?a.latestValues:{},l={...this.latestValues},h=ut();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const d=ue(),m=a?a.source:void 0,x=this.layout?this.layout.source:void 0,T=m!==x,k=this.getStack(),S=!k||k.members.length<=1,b=!!(T&&!S&&this.options.crossfade===!0&&!this.path.some(qu));this.animationProgress=0;let E;this.mixTargetDelta=O=>{const A=O/1e3;Wi(h.x,o.x,A),Wi(h.y,o.y,A),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ct(d,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Gu(this.relativeTarget,this.relativeTargetOrigin,d,A),E&&Eu(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=ue()),Te(E,this.relativeTarget)),T&&(this.animationValues=l,xu(l,u,this.latestValues,A,b,S)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=A},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Fe(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Q.update(()=>{qt.hasAnimatedSinceResize=!0,this.currentAnimation=Mu(0,Ni,{...o,onUpdate:c=>{this.mixTargetDelta(c),o.onUpdate&&o.onUpdate(c)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Ni),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:c,target:a,layout:u,latestValues:l}=o;if(!(!c||!a||!u)){if(this!==o&&this.layout&&u&&Fo(this.options.animationType,this.layout.layoutBox,u.layoutBox)){a=this.target||ue();const h=be(this.layout.layoutBox.x);a.x.min=o.target.x.min,a.x.max=a.x.min+h;const d=be(this.layout.layoutBox.y);a.y.min=o.target.y.min,a.y.max=a.y.min+d}Te(c,a),ht(c,l),wt(this.projectionDeltaWithTransform,this.layoutCorrected,c,l)}}registerSharedNode(o,c){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Su),this.sharedNodes.get(o).add(c);const u=c.options.initialPromotionConfig;c.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(c):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:c}=this.options;return c?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:c}=this.options;return c?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:c,preserveFollowOpacity:a}={}){const u=this.getStack();u&&u.promote(this,a),o&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let c=!1;const{latestValues:a}=o;if((a.rotate||a.rotateX||a.rotateY||a.rotateZ)&&(c=!0),!c)return;const u={};for(let l=0;l<ji.length;l++){const h="rotate"+ji[l];a[h]&&(u[h]=a[h],o.setStaticValue(h,0))}o.render();for(const l in u)o.setStaticValue(l,u[l]);o.scheduleRender()}getProjectionStyles(o={}){var c,a;const u={};if(!this.instance||this.isSVG)return u;if(this.isVisible)u.visibility="";else return{visibility:"hidden"};const l=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Gt(o.pointerEvents)||"",u.transform=l?l(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const T={};return this.options.layoutId&&(T.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,T.pointerEvents=Gt(o.pointerEvents)||""),this.hasProjected&&!Ye(this.latestValues)&&(T.transform=l?l({},""):"none",this.hasProjected=!1),T}const d=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=Bi(this.projectionDeltaWithTransform,this.treeScale,d),l&&(u.transform=l(d,u.transform));const{x:m,y:x}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${x.origin*100}% 0`,h.animationValues?u.opacity=h===this?(a=(c=d.opacity)!==null&&c!==void 0?c:this.latestValues.opacity)!==null&&a!==void 0?a:1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:u.opacity=h===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const T in Yt){if(d[T]===void 0)continue;const{correct:k,applyTo:S}=Yt[T],b=u.transform==="none"?d[T]:k(d[T],h);if(S){const E=S.length;for(let O=0;O<E;O++)u[S[O]]=b}else u[T]=b}return this.options.layoutId&&(u.pointerEvents=h===this?Gt(o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var c;return(c=o.currentAnimation)===null||c===void 0?void 0:c.stop()}),this.root.nodes.forEach(zi),this.root.sharedNodes.clear()}}}function _u(e){e.updateLayout()}function Fu(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:s}=e.options,o=n.source!==e.layout.source;s==="size"?Oe(h=>{const d=o?n.measuredBox[h]:n.layoutBox[h],m=be(d);d.min=r[h].min,d.max=d.min+m}):Fo(s,n.layoutBox,r)&&Oe(h=>{const d=o?n.measuredBox[h]:n.layoutBox[h],m=be(r[h]);d.max=d.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+m)});const c=ut();wt(c,r,n.layoutBox);const a=ut();o?wt(a,e.applyTransform(i,!0),n.measuredBox):wt(a,r,n.layoutBox);const u=!Mo(c);let l=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:d,layout:m}=h;if(d&&m){const x=ue();Ct(x,n.layoutBox,d.layoutBox);const T=ue();Ct(T,r,m.layoutBox),Vo(x,T)||(l=!0),h.options.layoutRoot&&(e.relativeTarget=T,e.relativeTargetOrigin=x,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:a,layoutDelta:c,hasLayoutChanged:u,hasRelativeTargetChanged:l})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function Iu(e){Ze.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Bu(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function ju(e){e.clearSnapshot()}function zi(e){e.clearMeasurements()}function Nu(e){e.isLayoutDirty=!1}function zu(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function $i(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function $u(e){e.resolveTargetDelta()}function Wu(e){e.calcProjection()}function Uu(e){e.resetRotation()}function Hu(e){e.removeLeadSnapshot()}function Wi(e,t,n){e.translate=re(t.translate,0,n),e.scale=re(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Ui(e,t,n,r){e.min=re(t.min,n.min,r),e.max=re(t.max,n.max,r)}function Gu(e,t,n,r){Ui(e.x,t.x,n.x,r),Ui(e.y,t.y,n.y,r)}function qu(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Ku={duration:.45,ease:[.4,0,.1,1]},Hi=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),Gi=Hi("applewebkit/")&&!Hi("chrome/")?Math.round:se;function qi(e){e.min=Gi(e.min),e.max=Gi(e.max)}function Xu(e){qi(e.x),qi(e.y)}function Fo(e,t,n){return e==="position"||e==="preserve-aspect"&&!Nn(Ii(t),Ii(n),.2)}const Yu=_o({attachResizeListener:(e,t)=>Me(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),On={current:void 0},Io=_o({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!On.current){const e=new Yu({});e.mount(window),e.setOptions({layoutScroll:!0}),On.current=e}return On.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Zu={pan:{Feature:pu},drag:{Feature:du,ProjectionNode:Io,MeasureLayout:Lo}},Qu=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function Ju(e){const t=Qu.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function Un(e,t,n=1){const[r,i]=Ju(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);if(s){const o=s.trim();return xo(o)?parseFloat(o):o}else return Mn(i)?Un(i,t,n+1):i}function eh(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(i=>{const s=i.get();if(!Mn(s))return;const o=Un(s,r);o&&i.set(o)});for(const i in t){const s=t[i];if(!Mn(s))continue;const o=Un(s,r);o&&(t[i]=o,n||(n={}),n[i]===void 0&&(n[i]=s))}return{target:t,transitionEnd:n}}const th=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Bo=e=>th.has(e),nh=e=>Object.keys(e).some(Bo),Ki=e=>e===st||e===W,Xi=(e,t)=>parseFloat(e.split(", ")[t]),Yi=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return Xi(i[1],t);{const s=r.match(/^matrix\((.+)\)$/);return s?Xi(s[1],e):0}},rh=new Set(["x","y","z"]),ih=Lt.filter(e=>!rh.has(e));function sh(e){const t=[];return ih.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const pt={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:Yi(4,13),y:Yi(5,14)};pt.translateX=pt.x;pt.translateY=pt.y;const oh=(e,t,n)=>{const r=t.measureViewportBox(),i=t.current,s=getComputedStyle(i),{display:o}=s,c={};o==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(u=>{c[u]=pt[u](r,s)}),t.render();const a=t.measureViewportBox();return n.forEach(u=>{const l=t.getValue(u);l&&l.jump(c[u]),e[u]=pt[u](a,s)}),e},ah=(e,t,n={},r={})=>{t={...t},r={...r};const i=Object.keys(t).filter(Bo);let s=[],o=!1;const c=[];if(i.forEach(a=>{const u=e.getValue(a);if(!e.hasValue(a))return;let l=n[a],h=gt(l);const d=t[a];let m;if(Qt(d)){const x=d.length,T=d[0]===null?1:0;l=d[T],h=gt(l);for(let k=T;k<x&&d[k]!==null;k++)m?Cr(gt(d[k])===m):m=gt(d[k])}else m=gt(d);if(h!==m)if(Ki(h)&&Ki(m)){const x=u.get();typeof x=="string"&&u.set(parseFloat(x)),typeof d=="string"?t[a]=parseFloat(d):Array.isArray(d)&&m===W&&(t[a]=d.map(parseFloat))}else h!=null&&h.transform&&(m!=null&&m.transform)&&(l===0||d===0)?l===0?u.set(m.transform(l)):t[a]=h.transform(d):(o||(s=sh(e),o=!0),c.push(a),r[a]=r[a]!==void 0?r[a]:t[a],u.jump(d))}),c.length){const a=c.indexOf("height")>=0?window.pageYOffset:null,u=oh(t,e,c);return s.length&&s.forEach(([l,h])=>{e.getValue(l).set(h)}),e.render(),ln&&a!==null&&window.scrollTo({top:a}),{target:u,transitionEnd:r}}else return{target:t,transitionEnd:r}};function ch(e,t,n,r){return nh(t)?ah(e,t,n,r):{target:t,transitionEnd:r}}const lh=(e,t,n,r)=>{const i=eh(e,t,r);return t=i.target,r=i.transitionEnd,ch(e,t,n,r)},Hn={current:null},jo={current:!1};function uh(){if(jo.current=!0,!!ln)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Hn.current=e.matches;e.addListener(t),t()}else Hn.current=!1}function hh(e,t,n){const{willChange:r}=t;for(const i in t){const s=t[i],o=n[i];if(ve(s))e.addValue(i,s),nn(r)&&r.add(i);else if(ve(o))e.addValue(i,rt(s,{owner:e})),nn(r)&&r.remove(i);else if(o!==s)if(e.hasValue(i)){const c=e.getValue(i);!c.hasAnimated&&c.set(s)}else{const c=e.getStaticValue(i);e.addValue(i,rt(c!==void 0?c:s,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const Zi=new WeakMap,No=Object.keys(St),fh=No.length,Qi=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],dh=fr.length;class ph{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Q.render(this.render,!1,!0);const{latestValues:c,renderState:a}=s;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=a,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=hn(n),this.isVariantNode=Ts(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...l}=this.scrapeMotionValuesFromProps(n,{});for(const h in l){const d=l[h];c[h]!==void 0&&ve(d)&&(d.set(c[h],!1),nn(u)&&u.add(h))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,Zi.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),jo.current||uh(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Hn.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Zi.delete(this.current),this.projection&&this.projection.unmount(),Fe(this.notifyUpdate),Fe(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=it.has(t),i=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&Q.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{i(),s()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,i,s){let o,c;for(let a=0;a<fh;a++){const u=No[a],{isEnabled:l,Feature:h,ProjectionNode:d,MeasureLayout:m}=St[u];d&&(o=d),l(n)&&(!this.features[u]&&h&&(this.features[u]=new h(this)),m&&(c=m))}if(!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:a,layout:u,drag:l,dragConstraints:h,layoutScroll:d,layoutRoot:m}=n;this.projection.setOptions({layoutId:a,layout:u,alwaysMeasureLayout:!!l||h&&ct(h),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:s,layoutScroll:d,layoutRoot:m})}return c}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ue()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Qi.length;r++){const i=Qi[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s=t["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=hh(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<dh;r++){const i=fr[r],s=this.props[i];(Et(s)||s===!1)&&(n[i]=s)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=rt(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=wr(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!ve(s)?s:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Lr),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class zo extends ph{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:i},s){let o=Ml(r,t||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),o&&(o=i(o))),s){Rl(this,r,o);const c=lh(this,r,o,n);n=c.transitionEnd,r=c.target}return{transition:t,transitionEnd:n,...r}}}function mh(e){return window.getComputedStyle(e)}class gh extends zo{readValueFromInstance(t,n){if(it.has(n)){const r=Er(n);return r&&r.default||0}else{const r=mh(t),i=(Os(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return Ao(t,n)}build(t,n,r,i){mr(t,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(t,n){return xr(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ve(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,i){Vs(t,n,r,i)}}class yh extends zo{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(it.has(n)){const r=Er(n);return r&&r.default||0}return n=_s.has(n)?n:br(n),t.getAttribute(n)}measureInstanceViewportBox(){return ue()}scrapeMotionValuesFromProps(t,n){return Is(t,n)}build(t,n,r,i){yr(t,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(t,n,r,i){Fs(t,n,r,i)}mount(t){this.isSVGTag=vr(t.tagName),super.mount(t)}}const vh=(e,t)=>pr(e)?new yh(t,{enableHardwareAcceleration:!1}):new gh(t,{enableHardwareAcceleration:!0}),bh={layout:{ProjectionNode:Io,MeasureLayout:Lo}},xh={...ql,...dc,...Zu,...bh},ye=Ca((e,t)=>ec(e,t,xh,vh));function $o(){const e=v.useRef(!1);return ur(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function wh(){const e=$o(),[t,n]=v.useState(0),r=v.useCallback(()=>{e.current&&n(t+1)},[t]);return[v.useCallback(()=>Q.postRender(r),[r]),t]}class Ch extends v.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Ph({children:e,isPresent:t}){const n=v.useId(),r=v.useRef(null),i=v.useRef({width:0,height:0,top:0,left:0});return v.useInsertionEffect(()=>{const{width:s,height:o,top:c,left:a}=i.current;if(t||!r.current||!s||!o)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${o}px !important;
            top: ${c}px !important;
            left: ${a}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),v.createElement(Ch,{isPresent:t,childRef:r,sizeRef:i},v.cloneElement(e,{ref:r}))}const An=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const c=dn(Th),a=v.useId(),u=v.useMemo(()=>({id:a,initial:t,isPresent:n,custom:i,onExitComplete:l=>{c.set(l,!0);for(const h of c.values())if(!h)return;r&&r()},register:l=>(c.set(l,!1),()=>c.delete(l))}),s?void 0:[n]);return v.useMemo(()=>{c.forEach((l,h)=>c.set(h,!1))},[n]),v.useEffect(()=>{!n&&!c.size&&r&&r()},[n]),o==="popLayout"&&(e=v.createElement(Ph,{isPresent:n},e)),v.createElement(cn.Provider,{value:u},e)};function Th(){return new Map}function kh(e){return v.useEffect(()=>()=>e(),[])}const Qe=e=>e.key||"";function Eh(e,t){e.forEach(n=>{const r=Qe(n);t.set(r,n)})}function Sh(e){const t=[];return v.Children.forEach(e,n=>{v.isValidElement(n)&&t.push(n)}),t}const Vt=({children:e,custom:t,initial:n=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:s=!0,mode:o="sync"})=>{const c=v.useContext(dr).forceRender||wh()[0],a=$o(),u=Sh(e);let l=u;const h=v.useRef(new Map).current,d=v.useRef(l),m=v.useRef(new Map).current,x=v.useRef(!0);if(ur(()=>{x.current=!1,Eh(u,m),d.current=l}),kh(()=>{x.current=!0,m.clear(),h.clear()}),x.current)return v.createElement(v.Fragment,null,l.map(b=>v.createElement(An,{key:Qe(b),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:s,mode:o},b)));l=[...l];const T=d.current.map(Qe),k=u.map(Qe),S=T.length;for(let b=0;b<S;b++){const E=T[b];k.indexOf(E)===-1&&!h.has(E)&&h.set(E,void 0)}return o==="wait"&&h.size&&(l=[]),h.forEach((b,E)=>{if(k.indexOf(E)!==-1)return;const O=m.get(E);if(!O)return;const A=T.indexOf(E);let R=b;if(!R){const C=()=>{h.delete(E);const p=Array.from(m.keys()).filter(f=>!k.includes(f));if(p.forEach(f=>m.delete(f)),d.current=u.filter(f=>{const w=Qe(f);return w===E||p.includes(w)}),!h.size){if(a.current===!1)return;c(),r&&r()}};R=v.createElement(An,{key:Qe(O),isPresent:!1,onExitComplete:C,custom:t,presenceAffectsLayout:s,mode:o},O),h.set(E,R)}l.splice(A,0,R)}),l=l.map(b=>{const E=b.key;return h.has(E)?b:v.createElement(An,{key:Qe(b),isPresent:!0,presenceAffectsLayout:s,mode:o},b)}),v.createElement(v.Fragment,null,h.size?l:l.map(b=>v.cloneElement(b)))};function et(e){const t=dn(()=>rt(e)),{isStatic:n}=v.useContext(lr);if(n){const[,r]=v.useState(e);v.useEffect(()=>t.on("change",r),[])}return t}class Oh{constructor(){this.componentControls=new Set}subscribe(t){return this.componentControls.add(t),()=>this.componentControls.delete(t)}start(t,n){this.componentControls.forEach(r=>{r.start(t.nativeEvent||t,n)})}}const Ah=()=>new Oh;function Lh(){return dn(Ah)}var Wo={exports:{}},Rh="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Dh=Rh,Mh=Dh;function Uo(){}function Ho(){}Ho.resetWarningCache=Uo;var Vh=function(){function e(r,i,s,o,c,a){if(a!==Mh){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Ho,resetWarningCache:Uo};return n.PropTypes=n,n};Wo.exports=Vh();var _h=Wo.exports;const N=cr(_h);function Gn(){return Gn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gn.apply(this,arguments)}function Fh(e,t){if(e==null)return{};var n=Ih(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Ih(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var Rr=v.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,i=e.size,s=i===void 0?24:i,o=Fh(e,["color","size"]);return $.createElement("svg",Gn({ref:t,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),$.createElement("line",{x1:"19",y1:"12",x2:"5",y2:"12"}),$.createElement("polyline",{points:"12 19 5 12 12 5"}))});Rr.propTypes={color:N.string,size:N.oneOfType([N.string,N.number])};Rr.displayName="ArrowLeft";const Bh=Rr;function qn(){return qn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qn.apply(this,arguments)}function jh(e,t){if(e==null)return{};var n=Nh(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Nh(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var Dr=v.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,i=e.size,s=i===void 0?24:i,o=jh(e,["color","size"]);return $.createElement("svg",qn({ref:t,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),$.createElement("line",{x1:"7",y1:"17",x2:"17",y2:"7"}),$.createElement("polyline",{points:"7 7 17 7 17 17"}))});Dr.propTypes={color:N.string,size:N.oneOfType([N.string,N.number])};Dr.displayName="ArrowUpRight";const Go=Dr;function Kn(){return Kn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kn.apply(this,arguments)}function zh(e,t){if(e==null)return{};var n=$h(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function $h(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var Mr=v.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,i=e.size,s=i===void 0?24:i,o=zh(e,["color","size"]);return $.createElement("svg",Kn({ref:t,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),$.createElement("circle",{cx:"12",cy:"12",r:"10"}),$.createElement("polyline",{points:"12 6 12 12 16 14"}))});Mr.propTypes={color:N.string,size:N.oneOfType([N.string,N.number])};Mr.displayName="Clock";const Wh=Mr;function Xn(){return Xn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xn.apply(this,arguments)}function Uh(e,t){if(e==null)return{};var n=Hh(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Hh(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var Vr=v.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,i=e.size,s=i===void 0?24:i,o=Uh(e,["color","size"]);return $.createElement("svg",Xn({ref:t,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),$.createElement("polyline",{points:"15 3 21 3 21 9"}),$.createElement("polyline",{points:"9 21 3 21 3 15"}),$.createElement("line",{x1:"21",y1:"3",x2:"14",y2:"10"}),$.createElement("line",{x1:"3",y1:"21",x2:"10",y2:"14"}))});Vr.propTypes={color:N.string,size:N.oneOfType([N.string,N.number])};Vr.displayName="Maximize2";const Gh=Vr;function Yn(){return Yn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yn.apply(this,arguments)}function qh(e,t){if(e==null)return{};var n=Kh(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Kh(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var _r=v.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,i=e.size,s=i===void 0?24:i,o=qh(e,["color","size"]);return $.createElement("svg",Yn({ref:t,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),$.createElement("path",{d:"M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"}))});_r.propTypes={color:N.string,size:N.oneOfType([N.string,N.number])};_r.displayName="Maximize";const Xh=_r;function Zn(){return Zn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zn.apply(this,arguments)}function Yh(e,t){if(e==null)return{};var n=Zh(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Zh(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var Fr=v.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,i=e.size,s=i===void 0?24:i,o=Yh(e,["color","size"]);return $.createElement("svg",Zn({ref:t,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),$.createElement("polyline",{points:"4 14 10 14 10 20"}),$.createElement("polyline",{points:"20 10 14 10 14 4"}),$.createElement("line",{x1:"14",y1:"10",x2:"21",y2:"3"}),$.createElement("line",{x1:"3",y1:"21",x2:"10",y2:"14"}))});Fr.propTypes={color:N.string,size:N.oneOfType([N.string,N.number])};Fr.displayName="Minimize2";const Qh=Fr;function Qn(){return Qn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qn.apply(this,arguments)}function Jh(e,t){if(e==null)return{};var n=ef(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ef(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var Ir=v.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,i=e.size,s=i===void 0?24:i,o=Jh(e,["color","size"]);return $.createElement("svg",Qn({ref:t,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),$.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12"}))});Ir.propTypes={color:N.string,size:N.oneOfType([N.string,N.number])};Ir.displayName="Minus";const tf=Ir;function Jn(){return Jn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jn.apply(this,arguments)}function nf(e,t){if(e==null)return{};var n=rf(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function rf(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var Br=v.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,i=e.size,s=i===void 0?24:i,o=nf(e,["color","size"]);return $.createElement("svg",Jn({ref:t,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),$.createElement("polygon",{points:"3 11 22 2 13 21 11 13 3 11"}))});Br.propTypes={color:N.string,size:N.oneOfType([N.string,N.number])};Br.displayName="Navigation";const er=Br;function tr(){return tr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tr.apply(this,arguments)}function sf(e,t){if(e==null)return{};var n=of(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function of(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var jr=v.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,i=e.size,s=i===void 0?24:i,o=sf(e,["color","size"]);return $.createElement("svg",tr({ref:t,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),$.createElement("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"}))});jr.propTypes={color:N.string,size:N.oneOfType([N.string,N.number])};jr.displayName="Phone";const af=jr;function nr(){return nr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nr.apply(this,arguments)}function cf(e,t){if(e==null)return{};var n=lf(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function lf(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var Nr=v.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,i=e.size,s=i===void 0?24:i,o=cf(e,["color","size"]);return $.createElement("svg",nr({ref:t,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),$.createElement("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),$.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12"}))});Nr.propTypes={color:N.string,size:N.oneOfType([N.string,N.number])};Nr.displayName="Plus";const zr=Nr;function rr(){return rr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rr.apply(this,arguments)}function uf(e,t){if(e==null)return{};var n=hf(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function hf(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var $r=v.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,i=e.size,s=i===void 0?24:i,o=uf(e,["color","size"]);return $.createElement("svg",rr({ref:t,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),$.createElement("polyline",{points:"17 1 21 5 17 9"}),$.createElement("path",{d:"M3 11V9a4 4 0 0 1 4-4h14"}),$.createElement("polyline",{points:"7 23 3 19 7 15"}),$.createElement("path",{d:"M21 13v2a4 4 0 0 1-4 4H3"}))});$r.propTypes={color:N.string,size:N.oneOfType([N.string,N.number])};$r.displayName="Repeat";const ff=$r;function ir(){return ir=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ir.apply(this,arguments)}function df(e,t){if(e==null)return{};var n=pf(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function pf(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var Wr=v.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,i=e.size,s=i===void 0?24:i,o=df(e,["color","size"]);return $.createElement("svg",ir({ref:t,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),$.createElement("circle",{cx:"11",cy:"11",r:"8"}),$.createElement("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}))});Wr.propTypes={color:N.string,size:N.oneOfType([N.string,N.number])};Wr.displayName="Search";const mf=Wr;function sr(){return sr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sr.apply(this,arguments)}function gf(e,t){if(e==null)return{};var n=yf(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function yf(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var Ur=v.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,i=e.size,s=i===void 0?24:i,o=gf(e,["color","size"]);return $.createElement("svg",sr({ref:t,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),$.createElement("line",{x1:"4",y1:"21",x2:"4",y2:"14"}),$.createElement("line",{x1:"4",y1:"10",x2:"4",y2:"3"}),$.createElement("line",{x1:"12",y1:"21",x2:"12",y2:"12"}),$.createElement("line",{x1:"12",y1:"8",x2:"12",y2:"3"}),$.createElement("line",{x1:"20",y1:"21",x2:"20",y2:"16"}),$.createElement("line",{x1:"20",y1:"12",x2:"20",y2:"3"}),$.createElement("line",{x1:"1",y1:"14",x2:"7",y2:"14"}),$.createElement("line",{x1:"9",y1:"8",x2:"15",y2:"8"}),$.createElement("line",{x1:"17",y1:"16",x2:"23",y2:"16"}))});Ur.propTypes={color:N.string,size:N.oneOfType([N.string,N.number])};Ur.displayName="Sliders";const vf=Ur;function or(){return or=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},or.apply(this,arguments)}function bf(e,t){if(e==null)return{};var n=xf(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function xf(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var Hr=v.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,i=e.size,s=i===void 0?24:i,o=bf(e,["color","size"]);return $.createElement("svg",or({ref:t,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),$.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),$.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))});Hr.propTypes={color:N.string,size:N.oneOfType([N.string,N.number])};Hr.displayName="X";const mt=Hr;var qo={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var r=[],i=0;i<arguments.length;i++){var s=arguments[i];if(s){var o=typeof s;if(o==="string"||o==="number")r.push(s);else if(Array.isArray(s)){if(s.length){var c=n.apply(null,s);c&&r.push(c)}}else if(o==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){r.push(s.toString());continue}for(var a in s)t.call(s,a)&&s[a]&&r.push(a)}}}return r.join(" ")}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(qo);var wf=qo.exports;const Le=cr(wf),Cf=({value:e,anim:t})=>{const n=g(s=>s.data),r=g(s=>s.filtersOpened),i=()=>{var s;return(r||n.settings.filtersAlwaysVisible)&&((s=n.filters)==null?void 0:s.length)>0};return I("div",{className:Le("mapplic-search-filter",{opened:i()}),children:[y(Pf,{value:e}),i()&&y(Ef,{anim:t})]})},Pf=({value:e})=>{const t=g(a=>a.data.settings),n=g(a=>a.data.filters),r=g(a=>a.toggleFilters),i=g(a=>a.toggleSidebar),s=g(a=>a.setSearch),o=g(a=>a.filtersOpened),c=g(a=>a.getFilterCount);return I("div",{className:"mapplic-search-bar",children:[I("label",{className:"mapplic-search",children:[y(mf,{size:16}),y("input",{type:"text",placeholder:t.searchText||"Search",spellCheck:!1,onClick:()=>i(!0),onInput:a=>s(a.target.value),value:e}),e&&y("button",{onClick:()=>s(""),children:y(mt,{size:12})})]}),y(Tf,{value:!o,active:(n==null?void 0:n.length)>0&&!t.filtersAlwaysVisible,children:I("button",{onClick:()=>r(),children:[y(vf,{size:16}),t.accessibility&&y("span",{children:"Filter"}),y(kf,{nr:c()})]})})]})},Tf=({children:e,value:t,active:n})=>n?I("div",{className:"mapplic-switch",children:[t&&y("div",{className:"mapplic-switch-background"}),e]}):null,kf=({nr:e})=>{if(!(e<1))return y("small",{className:"mapplic-count",children:e})},Ef=({anim:e})=>{const t=g(i=>i.data.filters),n=g(i=>i.search),r=g(i=>i.getFilterCount);return t?I(ye.div,{className:"mapplic-filters",...e,style:{display:"flex",flexDirection:"column",overflowY:"auto"},children:[y("div",{className:"mapplic-filters-body",children:t.map(i=>y(Of,{f:i},i.id))}),y(Sf,{shown:r()>0||n})]},"filters"):null},Sf=({shown:e})=>{const t=g(s=>s.displayList),n=g(s=>s.clearFilters),r=g(s=>s.toggleSidebar),i=g(s=>s.data.settings.clearText);return e?I("div",{className:"mapplic-filters-footer",children:[I("button",{onClick:n,children:[y(mt,{size:12}),i||"Clear"]}),I("button",{onClick:r,children:[y("b",{children:t(!1).length})," found",y(Go,{size:12})]})]}):null},Of=({f:e})=>{var i;const t=g(s=>s.filters),n=g(s=>s.setFilter),r=g(s=>s.data.groups);if(!e.disable)switch(e.type){case"tags":return y("div",{className:"mapplic-tags",children:r&&r.map(s=>y(Af,{group:s,active:Array.isArray(t.group)&&t.group.includes(s.name)},s.name))});case"checkbox":return I("label",{className:"mapplic-toggle",children:[y("span",{children:e.name}),I("div",{className:"mapplic-toggle-switch",children:[y("input",{type:"checkbox",checked:t[e.id]||!1,onChange:()=>n(e.id,!t[e.id])}),y("span",{})]})]});case"dropdown":return y("label",{children:y("select",{className:"mapplic-dropdown",value:t[e.id],onChange:s=>n(e.id,s.target.value),children:(i=e.value)==null?void 0:i.split(";").map(s=>{const o=s.split(":");return y("option",{value:o[0],children:o[1]},s)})})});default:return}};function Af({group:e,active:t}){const n=g(i=>i.toggleGroup),r={color:t?"#fff":e.color};return t&&(r.borderColor=e.color,r.backgroundColor=e.color),e.hide?!1:I("button",{className:Le("mapplic-tag",{"mapplic-active":t}),style:r,onClick:()=>n(e,t),children:[!t&&y(zr,{size:12}),y("span",{children:e.name}),t&&y(mt,{size:12})]})}const Ji=(e,t)=>pe(Math.sqrt((e.x-t.x)**2+(e.y-t.y)**2)),Ko=(e,t,n,r)=>{for(let i=0;i<e.length;i++)if(e[i].x===t&&e[i].y===n&&e[i].layer===r)return e[i];return null},Lf=(e,t,n,r,i,s)=>{let o=Ko(e,t,n,r);return o||(e.push({x:t,y:n,layer:r,n:[]}),o=e[e.length-1],i&&(o.end=i),s&&(o.connect=s)),o},at=(e,t,n=1,r)=>{if(!Ko(e.n,t.x,t.y)){const i={to:t,dist:n};r&&(i.iac=!0),e.n.push(i)}},Rf=e=>{const t=[];e==null||e.forEach(r=>{const i=r==null?void 0:r.points.split(" "),s=[];for(let o=0;o<i.length;o++){const[c,a]=i[o].split(","),u=Lf(t,c,a,r.layer,r.endpoint,r.connect);if(o>0){let l=Ji(u,s[s.length-1])*(parseFloat(r.weight)||1);if(at(u,s[s.length-1],l,r.inaccessible),at(s[s.length-1],u,l,r.inaccessible),r.element==="polygon")for(let h=s.length-2;h>=0;h--)l=Ji(u,s[h]),at(u,s[h],l,r.inaccessible),at(s[h],u,l,r.inaccessible)}s.push(u)}});for(let r=0;r<t.length;r++)if(t[r].connect&&t[r].end&&t[r].n.length<2)for(var n=r+1;n<t.length;n++)t[n].connect&&t[n].end&&t[n].n.length<2&&t[r].end===t[n].end&&(at(t[r],t[n],1),at(t[n],t[r],1));return t},es=(e,t)=>{const n=[];for(let r=0;r<e.length;r++)e[r].end===t&&e[r].n.length<2&&n.push(r);return n.length<1&&console.error("There is no path to "+t),n},Df=(e,t,n,r=!1)=>{for(let a=0;a<e.length;a++)e[a].dist=Number.POSITIVE_INFINITY,e[a].prev=void 0;for(let a=0;a<t.length;a++)e[t[a]].dist=0;let i=e.slice();for(;i.length>0;){let a=Number.POSITIVE_INFINITY,u=0;for(let h=0;h<i.length;h++)i[h].dist<a&&(u=h,a=i[h].dist);let l=i[u];i.splice(u,1);for(let h=0;h<l.n.length;h++)if(!r||!l.n[h].iac){let d=l.dist+l.n[h].dist;d<l.n[h].to.dist&&(l.n[h].to.dist=d,l.n[h].to.prev=l)}}let s=Number.POSITIVE_INFINITY,o=null,c=[];for(let a=0;a<n.length;a++)e[n[a]].dist<s&&(o=e[n[a]],s=o.dist);if(c.push(o),!o)return!1;for(;o.prev!==void 0;)o=o.prev,c.unshift(o);return c},Mf=e=>e.reduce((t,n)=>{const r=t[t.length-1];return r&&r.length>0&&r[0].layer===n.layer?r.push(n):t.push([n]),t},[]),Vf=()=>{const e=g(r=>{var i,s;return(s=(i=r.data)==null?void 0:i.settings)==null?void 0:s.wayfinding}),t=g(r=>r.data.routes),n=g(r=>r.setRouteGraph);v.useEffect(()=>{e&&n(Rf(t))},[t,n,e])},_f=({layer:e})=>{var o,c;const t=g(a=>a.paths),n=g(a=>a.data.settings),r=g(a=>a.data.settings.wayfindingLineColor),i=g(a=>a.data.settings.wayfindingLineWidth)||3,s=(c=(o=t==null?void 0:t[t.length-1])==null?void 0:o.slice(-1))==null?void 0:c[0];return t.length<1?null:I("svg",{viewBox:`0 0 ${n.mapWidth} ${n.mapHeight}`,style:{cursor:"crosshair",pointerEvents:"none",position:"absolute",top:0,left:0},children:[t.map((a,u)=>a[0].layer!==e?null:y(Ff,{i:u,path:a,dist:pe(a[a.length-1].dist-a[0].dist,2)},u)),s.layer===e&&I("g",{children:[I("circle",{cx:s.x,cy:s.y,fill:"none",r:i,stroke:r,strokeWidth:"1",children:[y("animate",{attributeName:"r",from:i,to:i*2,dur:"1.5s",begin:"0s",repeatCount:"indefinite"}),y("animate",{attributeName:"opacity",from:"1",to:"0",dur:"1.5s",begin:"0s",repeatCount:"indefinite"})]}),y("circle",{cx:s.x,cy:s.y,fill:r,r:i})]})]})},Ff=({path:e,dist:t,i:n})=>{const r=g(k=>k.data.settings.wayfindingLineColor),i=g(k=>k.data.settings.wayfindingSmoothing),s=g(k=>k.data.settings.wayfindingLineWidth)||3,o=g(k=>k.data.settings),c=g(k=>k.setTarget),a=g(k=>k.setOffset),u=g(k=>k.animatedPath),l=g(k=>k.setAnimatedPath),h=v.useRef(null),[d,m]=v.useState(!1);v.useEffect(()=>{if(n===u){const k=()=>{m(!0),setTimeout(()=>{l(u+1)},(o.wayfindingSpeed||2)*1e3+400)},S=h.current.getBBox();m(!1);const b=40,E={x:pe((S.x+S.width/2)/o.mapWidth,4),y:pe((S.y+S.height/2)/o.mapHeight,4),scale:pe(Math.min(o.mapWidth/(S.width+b),o.mapHeight/(S.height+b)),4)};a({h:0}),c(E);const O=setTimeout(k,200);return()=>clearTimeout(O)}},[t,e,a,c,o,n,u,l]);const x=(k,S,b)=>{const E=parseFloat(S.x)-parseFloat(k.x),O=parseFloat(S.y)-parseFloat(k.y),A=Math.abs(k.dist-S.dist),R=Math.min(b,A/2),C=R/A;return{x:parseFloat(k.x)+E*C,y:parseFloat(k.y)+O*C}},T=k=>{let S="M "+k[0].x+","+k[0].y;for(let b=0;b<k.length;b++)if(i&&b>0&&b<k.length-1){const E=x(k[b],k[b-1],i);S+=" L"+E.x+","+E.y,S+=" Q"+k[b].x+","+k[b].y;const O=x(k[b],k[b+1],i);S+=" "+O.x+","+O.y}else S+=" L"+k[b].x+","+k[b].y;return S};return I("g",{children:[y("path",{className:"mapplic-routes-line",ref:h,stroke:r,strokeOpacity:.3,strokeWidth:s,strokeLinecap:"round",fill:"none",d:T(e),style:{strokeDasharray:n>=u?t+" "+t:0,strokeDashoffset:d?0:t,transitionDelay:"0.4s",transitionTimingFunction:"ease-in-out",transitionDuration:`${o.wayfindingSpeed||2}s`,transitionProperty:d?"stroke-dashoffset":"none"}}),y("path",{className:"mapplic-routes-dashed",stroke:r,strokeOpacity:1,strokeWidth:s/2,strokeDasharray:`${s} ${s*1.5}`,strokeLinecap:"round",fill:"none",d:T(e)})]})},If=({id:e})=>{const t=g(c=>c.setAny),n=g(c=>c.hasRoute),r=g(c=>c.routeGraph),i=g(c=>c.data.settings.wayfindingFixedFrom),[s,o]=v.useState(!1);return v.useEffect(()=>{o(n(e)&&e!==i)},[e,n,r,i]),s?y("button",{onClick:()=>{t(e)},className:"mapplic-button mapplic-button-icon",children:y(er,{size:16})}):null},Bf=()=>{const e=g(A=>A.location),t=g(A=>A.getLocationById),n=g(A=>A.from),r=g(A=>A.setFrom),i=g(A=>A.to),s=g(A=>A.setTo),o=g(A=>A.routeGraph),c=g(A=>A.setPaths),a=g(A=>A.routesOpened),u=g(A=>A.setRoutesOpened),l=g(A=>A.routesAccessible),h=g(A=>A.hasRoute),d=g(A=>A.data.settings),m=g(A=>A.closeLocation),x=g(A=>A.switchLayer),T=g(A=>A.setAnimatedPath),[k,S]=v.useState(!1);v.useEffect(()=>{var A;if(n&&i){S(!1);const R=es(o,n),C=es(o,i),p=Df(o,R,C,l);(A=p[0])!=null&&A.layer&&x(p[0].layer),m();let f;p&&(f=Mf(p)),f&&c(f),T(0)}else c([])},[o,n,i,c,l,m,x,T]),v.useEffect(()=>{d.wayfindingFixedFrom&&r(d.wayfindingFixedFrom),k&&e&&h(e)&&(k==="from"?(r(e),i||S("to")):k==="to"&&(s(e),n||S("from")))},[e]);const b=()=>{u(!1),d.wayfindingFixedFrom||r(null),s(null),S(!1)},E=()=>{const A=n;r(i),s(A)},O=()=>{u(!0),S("from")};return y(ye.div,{layout:!0,className:Le("mapplic-wayfinding",{"mapplic-active":a}),children:y(Vt,{children:a?I("div",{className:"mapplic-wayfinding-content",children:[I("div",{className:"mapplic-wayfinding-body",children:[I("div",{className:"mapplic-wayfinding-dots",children:[y("div",{}),y("div",{}),y("div",{})]}),I("div",{className:"mapplic-wayfinding-positions",children:[y(ts,{type:"from",location:t(n),selected:k,setSelected:S,fixed:d.wayfindingFixedFrom}),y(ts,{type:"to",location:t(i),selected:k,setSelected:S})]}),i&&n&&!d.wayfindingFixedFrom&&y("button",{className:"mapplic-wayfinding-swap",onClick:E,children:y(ff,{size:16})})]}),I("div",{className:"mapplic-wayfinding-bar",children:[y("button",{className:"mapplic-button mapplic-button-icon",onClick:b,children:y(mt,{size:16})}),I("div",{className:"mapplic-wayfinding-bar-main",children:[y(jf,{}),I("button",{className:"mapplic-button mapplic-button-primary",disabled:!i||!n,onClick:()=>T(0),style:{paddingRight:8},children:["Go",y(er,{size:16,opacity:.5})]})]})]})]}):y("button",{className:"mapplic-control-button",onClick:O,children:y(er,{size:16})})})})},jf=()=>{const e=g(n=>n.routesAccessible),t=g(n=>n.setRoutesAccessible);return y("button",{className:Le("mapplic-button",{"mapplic-active":e}),onClick:()=>t(!e),style:{padding:8},children:I("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:[y("path",{d:"M11.0933 11.8933C10.7667 11.7533 10.3933 11.9 10.2533 12.2266C9.59333 13.74 8.1 14.72 6.44 14.72C4.14667 14.72 2.28 12.8533 2.28 10.56C2.28 9.07331 3.08 7.69331 4.37333 6.95331C4.68 6.77998 4.78667 6.38664 4.61333 6.07998C4.43333 5.77331 4.04 5.66665 3.73333 5.84665C2.04667 6.80665 1 8.61331 1 10.56C1 13.56 3.44 16 6.44 16C8.60667 16 10.5667 14.72 11.4267 12.7333C11.5667 12.4133 11.4133 12.0333 11.0933 11.8933Z",fill:"#030712"}),y("path",{d:"M15.6733 12.56C15.54 12.2333 15.1733 12.0733 14.84 12.2L13.88 12.5867L12.4867 8.12667C12.4 7.86 12.1533 7.68 11.8733 7.68H7.3L7.1 6.4H9.62667C9.98 6.4 10.2667 6.11333 10.2667 5.76C10.2667 5.40667 9.98 5.12 9.62667 5.12H6.91333L6.58 2.98667C7.06667 2.71333 7.4 2.19333 7.4 1.6C7.4 0.72 6.68 0 5.8 0C4.92 0 4.2 0.72 4.2 1.6C4.2 2.30667 4.66667 2.90667 5.30667 3.11333L6.12667 8.42C6.17333 8.73333 6.44667 8.96 6.76 8.96H11.4067L12.8667 13.6333C12.92 13.8067 13.04 13.9467 13.2 14.02C13.2867 14.06 13.38 14.08 13.4733 14.08C13.5533 14.08 13.6333 14.0667 13.7133 14.0333L15.3133 13.3933C15.6467 13.2667 15.8067 12.8933 15.6733 12.56Z",fill:"#030712"})]})})},ts=({type:e,location:t,selected:n,setSelected:r,fixed:i=!1})=>{const s=()=>{e===n?r(null):i||r(e)};return I("div",{className:"mapplic-wayfinding-position",children:[y("span",{className:"mapplic-wayfinding-pin",style:{backgroundColor:t!=null&&t.id?"#000":"transparent"}}),y("button",{style:{outlineColor:e===n?"var(--primary)":"transparent",fontWeight:t!=null&&t.id?"bold":"normal",backgroundColor:e===n?"var(--neutral-100)":"transparent"},onClick:s,children:(t==null?void 0:t.title)||(t==null?void 0:t.id)||"Select "+e})]})},Xo=({location:e,type:t})=>{const n=g(o=>o.closeLocation),r=g(o=>o.data.settings),[i,s]=v.useState(!1);return I(Tt,{children:[e.image&&y("div",{className:"mapplic-popup-image",children:y("img",{src:e.image,alt:e==null?void 0:e.title})}),I("div",{className:"mapplic-popup-content",children:[y("button",{className:"mapplic-popup-close",onClick:n,children:y(mt,{size:12})}),I("div",{className:"mapplic-popup-title",children:[e.title&&y("h4",{children:e.title}),e.about&&y("h5",{dangerouslySetInnerHTML:{__html:kt(e,"about")}})]}),(e==null?void 0:e.desc)&&y("div",{className:"mapplic-popup-body",dangerouslySetInnerHTML:{__html:kt(e)}}),y(Nf,{location:e,field:i}),((e==null?void 0:e.link)||(e==null?void 0:e.hours)||(e==null?void 0:e.phone)||r.wayfinding)&&I("div",{className:"mapplic-popup-footer",children:[I("div",{className:"mapplic-popup-actions",children:[r.wayfinding&&y(If,{id:e.id}),y(ns,{location:e,field:"phone",details:i,setDetails:s,children:y(af,{size:16})}),y(ns,{location:e,field:"hours",details:i,setDetails:s,children:y(Wh,{size:16})})]}),e.link&&I("a",{href:e.link,style:{backgroundColor:e.color},target:"_blank",className:"mapplic-button mapplic-button-primary",rel:"noreferrer",children:[r.moreText||"More",y(Go,{size:16})]})]})]})]})},Nf=({location:e,field:t})=>{var n;return y(Vt,{mode:"sync",children:t&&I(ye.div,{className:"mapplic-popup-details",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[t==="phone"&&y("a",{className:"mapplic-phone",href:`tel:${e.phone}`,children:e.phone}),t==="hours"&&y("div",{className:"mapplic-hours",children:(n=e==null?void 0:e.hours)==null?void 0:n.split(";").map((r,i)=>y("div",{children:r},i))})]})})},ns=({location:e,field:t,details:n,setDetails:r,children:i})=>e[t]?y("button",{className:Le("mapplic-button mapplic-button-icon",{"mapplic-active":n===t}),onClick:()=>r(s=>s===t?!1:t),children:i}):null,zf=({element:e})=>{const[t,n]=v.useState(0),r=g(d=>d.data.breakpoint),i=g(d=>d.data.settings),s=g(d=>d.sidebarClosed),o=g(d=>d.breakpoint),c=g(d=>d.search),a=g(d=>d.location),u=g(d=>d.getSampledLocation);g(d=>d.filters);const l=()=>a&&u().action==="sidebar",h={initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2}};return v.useEffect(()=>{o!=null&&o.sidebar&&e.current.style.setProperty("--sidebar",o.sidebar+"px")},[e,r,o==null?void 0:o.sidebar]),y("div",{className:"mapplic-sidebar",children:y(Vt,{mode:"wait",children:l()?y(ye.div,{className:"mapplic-sidebar-popup",...h,children:y(Xo,{location:u()})}):I(Tt,{children:[i.filters&&y(Cf,{value:c||"",anim:h}),!s&&y($f,{scrollPosition:t,setScrollPosition:n})]})})})},$f=({scrollPosition:e,setScrollPosition:t=()=>!1})=>{const n=v.useRef(null),r=g(s=>s.displayList),i=()=>{var o;const s=(o=n.current)==null?void 0:o.scrollTop;t(s)};return v.useEffect(()=>(n.current&&(n.current.scrollTop=e,n.current.addEventListener("scroll",i,{passive:!0})),()=>{var s;(s=n.current)==null||s.removeEventListener("scroll",i)}),[n.current]),y("div",{className:"mapplic-dir",ref:n,children:y(Wf,{locations:r(!1)})})},Wf=({locations:e})=>{const t=g(o=>o.search),n=g(o=>o.data.settings),r=g(o=>o.data.groups),i=g(o=>o.getFilterCount),s=(o,c)=>{if(!o||!c)return{};const a=o.reduce((u,l)=>(u[l]=e.filter(h=>c(h,l)),u),{});return Object.entries(a)};return e.length<1?y("i",{className:"mapplic-empty-message",children:"No results found."}):!n.groupBy||i()>0||t?y(rs,{locations:e}):s(r.map(o=>o.name),(o,c)=>o.group.includes(c)).map(([o,c])=>y(rs,{locations:c,group:o},o))},rs=({locations:e,group:t=null})=>{const n=g(i=>i.breakpoint),r=g(i=>i.getSampledLocation);return e.length<1?null:I("div",{className:"mapplic-dir-group",children:[y(Uf,{group:t,count:e.length}),y("ul",{className:Le("mapplic-dir-items",`mapplic-${n==null?void 0:n.type}-items`),style:{gridTemplateColumns:n!=null&&n.column?`repeat(${n.column}, 1fr)`:"100%"},children:e.map(i=>y(Hf,{location:r(i)},i.id))})]})},Uf=({group:e,count:t})=>e?I("div",{className:"mapplic-dir-group-title",children:[y("span",{children:e}),y("div",{className:"mapplic-line"}),y("span",{children:t})]}):null,Hf=({location:e,...t})=>{const n=g(l=>l.hovered),r=g(l=>l.setHovered),i=g(l=>l.location),s=g(l=>l.openLocation),o=g(l=>l.breakpoint),c=g(l=>l.search),a=l=>{l.preventDefault(),s(e.id)},u=l=>l==null?void 0:l.replace(new RegExp(c,"gi"),h=>`<mark>${h}</mark>`);return y("li",{children:y("a",{...t,className:Le("mapplic-dir-item",`mapplic-${o==null?void 0:o.type}-item`,{"mapplic-highlight":n===e.id,"mapplic-active":i===e.id}),"data-location":e.id,onClick:a,onMouseEnter:()=>r(e.id),onTouchStart:()=>r(e.id),onMouseLeave:()=>r(!1),onTouchEnd:()=>r(!1),children:y(Gf,{location:e,mark:u,type:o==null?void 0:o.type})})})},Gf=({location:e,mark:t,type:n="list"})=>{const r=g(i=>i.data.settings);return n==="grid"?I(Tt,{children:[r.thumbnails&&y(is,{location:e}),I("div",{className:"mapplic-item-body",children:[y("h3",{dangerouslySetInnerHTML:{__html:t(e.title)}}),y("h5",{dangerouslySetInnerHTML:{__html:kt(e,"about")}})]})]}):I(Tt,{children:[r.thumbnails&&y(is,{location:e}),I("div",{className:"mapplic-item-body",children:[y("h4",{dangerouslySetInnerHTML:{__html:t(e.title)}}),y("h5",{dangerouslySetInnerHTML:{__html:kt(e,"about")}})]})]})},is=({location:e})=>y("div",{className:"mapplic-thumbnail",children:(()=>{var n;return e.thumb?e.thumb.length<=3?y("span",{children:e.thumb.toUpperCase()}):y("img",{src:e.thumb,alt:e.title}):y("span",{children:(n=e.title)==null?void 0:n.charAt(0)})})()}),qf=({element:e,accessibility:t,...n})=>{const[r,i]=v.useState(!1),s=v.useState(document.fullscreenEnabled??document.webkitFullscreenEnabled);v.useEffect(()=>{const c=()=>{i(!!document.fullscreenElement)};return document.addEventListener("fullscreenchange",c),()=>document.removeEventListener("fullscreenchange",c)},[]);const o=()=>{r?document.exitFullscreen():e.current.requestFullscreen()};return s?I("button",{onClick:o,...n,children:[!r&&y(Gh,{size:16}),r&&y(Qh,{size:16}),t&&I("span",{children:[r&&"Exit"," Fullscreen"]})]}):null},Kf=e=>{const t=g(s=>s.data.settings),n=g(s=>s.toggleSidebar),r=g(s=>s.sidebarClosed),i=g(s=>s.breakpoint);return I("div",{className:"mapplic-controls",children:[t.sidebar&&t.toggleSidebar&&(!r||!t.filters)&&y("button",{className:"mapplic-sidebar-close",onClick:()=>n(!1),children:y(Bh,{size:16})}),y(Nt,{position:"top-left",...e,style:t.sidebar&&r&&!t.rightSidebar&&!(i!=null&&i.portrait)?{top:"60px"}:{}}),y(Nt,{position:"top-right",...e,style:t.sidebar&&r&&t.rightSidebar&&!(i!=null&&i.portrait)?{top:"60px"}:{}}),y(Nt,{position:"bottom-left",...e,style:t.sidebar&&r&&(i!=null&&i.portrait)?{bottom:"60px"}:{}}),y(Nt,{position:"bottom-right",...e})]})},Nt=({position:e,element:t,style:n})=>{const r=g(s=>s.data.layers),i=g(s=>s.data.settings);return I("div",{className:`mapplic-control-zone mapplic-${e}`,style:n,children:[i.layerSwitcher===e&&r.length>1&&y(Zf,{list:r}),i.zoom&&i.zoomButtons===e&&y(Yf,{}),i.zoom&&i.resetButton===e&&y(Xf,{accessibility:i.accessibility}),i.fullscreen===e&&y(qf,{element:t,className:"mapplic-control-button",accessibility:i.accessibility}),i.wayfinding&&i.wayfindingControls===e&&y(Bf,{})]})},Xf=({accessibility:e})=>{const t=g(c=>c.pos),n=g(c=>c.location),r=g(c=>c.setTarget),i=g(c=>c.setTransition),s=g(c=>c.closeLocation),o=()=>{i({duration:.4}),r({scale:1}),s()};if(!(t.scale<=1&&!n))return I("button",{className:"mapplic-control-button",onClick:o,children:[e&&y("span",{children:"Reset"}),y(Xh,{size:16})]})},Yf=()=>{const e=g(s=>s.data.settings.maxZoom),t=g(s=>s.pos),n=g(s=>s.setTarget),r=g(s=>s.setTransition),i=s=>{r({duration:.4}),n({scale:s})};return I("div",{className:"mapplic-control-group",children:[y("button",{className:"mapplic-control-button",disabled:t.scale>=e,onClick:()=>i(t.scale*1.6),children:y(zr,{size:16})}),y("button",{className:"mapplic-control-button",disabled:t.scale<=1,onClick:()=>i(t.scale/1.6),children:y(tf,{size:16})})]})},Zf=({list:e})=>{const t=g(r=>r.layer),n=g(r=>r.switchLayer);return g(r=>r.layer),y("div",{className:"mapplic-layer-switcher",children:e.map(r=>y("button",{className:`${r.id===t?"mapplic-active":""}`,onClick:()=>n(r.id),children:r.name},r.id))})},ss=({cond:e=!0,location:t,hover:n=!1,offset:r=0,layer:i})=>{const s=v.useRef(null),o=g(a=>a.data.settings.hoverAbout),c=g(a=>a.setOffset);return v.useEffect(()=>{var a;e&&!n&&c({h:((a=s.current)==null?void 0:a.offsetHeight)-r})},[t.id]),!e||!t.id||!t.coord||t.disable||t.layer&&t.layer!==i||n&&!t.title||!n&&(t==null?void 0:t.action)==="none"?null:y(ye.div,{className:Le("mapplic-tooltip mapplic-popup",{"mapplic-tooltip-hover":n}),style:{maxWidth:"320px",maxHeight:"240px",top:`calc(${t.coord[1]*100}% + ${r-16}px)`,left:t.coord[0]*100+"%"},initial:{scale:.4,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.4,opacity:0},transition:{duration:.2},onWheel:a=>a.stopPropagation(),ref:s,children:!n&&t.action!=="sidebar"?y(Xo,{location:t}):y("div",{className:"mapplic-popup-content mapplic-popup-micro",children:I("div",{className:"mapplic-popup-title",children:[y("h4",{children:t.title}),o&&y("h5",{dangerouslySetInnerHTML:{__html:kt(t,"about")}})]})})})},Qf=({location:e,active:t,setOffsets:n})=>{const r=g(l=>l.hovered),i=g(l=>l.setHovered),s=g(l=>l.openLocation),o=g(l=>l.location),c=g(l=>l.dragging),a=v.useRef(null),u=parseFloat(e.scale)||1;if(v.useEffect(()=>{a.current&&n(l=>({...l,[e.id]:parseFloat(window.getComputedStyle(a.current).getPropertyValue("margin-top"))*u}))},[e.id,e.type,u,n]),!(e.disable||!e.coord||e.type==="hidden"))return I(ye.a,{ref:a,whileTap:{scale:u},whileHover:{scale:u*1.2},whileDrag:{scale:u*1.2},initial:{scale:u*.4,opacity:0},animate:{scale:u,opacity:1},exit:{scale:u*.4,opacity:0},transition:{type:"spring",duration:.4},onMouseEnter:()=>i(e.id),onMouseLeave:()=>i(!1),className:Le("mapplic-marker",{"mapplic-highlight":r===e.id,"mapplic-active":o===e.id,[e.type]:e.type,[e.style]:e.style}),style:{top:(e==null?void 0:e.coord[1])*100+"%",left:(e==null?void 0:e.coord[0])*100+"%",backgroundColor:e.color,zIndex:t?101:"auto"},onClick:()=>{c||s(e.id),e.action==="link"&&(window.location.href=e.link)},children:[y(Jf,{type:e.type,color:e.color,thumb:e.thumb}),y("span",{children:e.label}),(e==null?void 0:e.type)==="text"&&(e==null?void 0:e.title)&&y("span",{className:"title",style:{color:(e==null?void 0:e.color)||"black",textShadow:"0 0 4px #fff"},children:e.title})]})},Jf=({type:e,color:t,thumb:n})=>{switch(e){case"pin1":return y("svg",{width:"22px",height:"26px",viewBox:"0 0 22 26",xmlns:"http://www.w3.org/2000/svg",children:y("path",{fill:t,d:"M22,11c0-6.1-4.9-11-11-11S0,4.9,0,11c0,5,3.4,9.3,8,10.6l3,4.4l3-4.4C18.6,20.3,22,16,22,11z"})});case"pin2":return I("svg",{width:"21px",height:"28px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 21 28",children:[y("path",{fill:t,d:"M10.5,0C4.71,0,0,4.71,0,10.5c0,7.75,9.69,16.95,10.1,17.34c0.11,0.11,0.26,0.16,0.4,0.16s0.29-0.05,0.4-0.16C11.31,27.45,21,18.25,21,10.5C21,4.71,16.29,0,10.5,0z"}),y("circle",{fill:"rgba(0, 0, 0, 0.3)",cx:"10.5",cy:"10.5",r:"8"})]});case"thumb":return y("img",{src:n,alt:"marker"});default:return}},os=({location:e,layer:t,dragConstraints:n,setTempCoord:r})=>{const[i,s]=v.useState(e==null?void 0:e.coord),[o,c]=v.useState(!1),a=g(S=>S.location),u=g(S=>S.data.locations),l=g(S=>S.setData),h=et(0),d=et(0);if(v.useEffect(()=>{s(e==null?void 0:e.coord)},[a]),!i||e!=null&&e.layer&&(e==null?void 0:e.layer)!==t)return;const m=(S,b,E)=>{l({locations:u.map(O=>O.id===S?{...O,[b]:E}:O)})},x=S=>{const b=[Math.round((i[0]+S.x/n.current.offsetWidth)*1e4)/1e4,Math.round((i[1]+S.y/n.current.offsetHeight)*1e4)/1e4];r({coord:b,latlng:null})},T=S=>{const b=[Math.round((i[0]+S.x/n.current.offsetWidth)*1e4)/1e4,Math.round((i[1]+S.y/n.current.offsetHeight)*1e4)/1e4];m(e==null?void 0:e.id,"coord",b),s(b),r({})},k=()=>{h.set(0),d.set(0)};return e.id?y(ye.div,{className:"mapplic-location-drag",style:{x:h,y:d,top:i[1]*100+"%",left:i[0]*100+"%",cursor:o?"grabbing":"grab"},drag:!0,onTapStart:S=>c(!0),onDrag:(S,b)=>{x(b.offset)},onDragEnd:(S,b)=>{c(!1),T(b.offset)},onTap:k,onTapCancel:k,dragConstraints:n,dragMomentum:!1}):null},as=({location:e,layer:t})=>{const n=g(l=>l.data),r=g(l=>l.setData),i=g(l=>l.openLocation),s=g(l=>l.setNewLocation),o=v.useRef(null),c=()=>{s(!1)},a=l=>l.replace(/-/g," ").replace(/\b[a-z]/g,h=>h.toUpperCase()),u=()=>{r({locations:[{title:e.title||a(e.id),...e},...n.locations]}),s(!1),i(e.id)};return e.layer&&e.layer!==t||!e.coord?null:I(ye.div,{className:"mapplic-tooltip",initial:{scale:.4,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.4,opacity:0},transition:{duration:.2},ref:o,style:{maxWidth:"320px",maxHeight:"200px",top:`calc(${e.coord[1]*100}% + ${0-16}px)`,left:e.coord[0]*100+"%"},children:[I("div",{className:"mapplic-tooltip-content",children:[y("button",{className:"mapplic-tooltip-close",onClick:c,children:y(mt,{size:12})}),y("div",{className:"mapplic-tooltip-title",children:y("h5",{children:"Add location"})}),I("div",{className:"mapplic-tooltip-footer",children:[y("button",{className:"mapplic-button-small",style:{backgroundColor:"#9747FF"},onClick:u,children:y(zr,{size:16})}),y("code",{children:e.id})]})]}),y(ed,{})]})},ed=()=>y("svg",{width:"100%",height:"100%",style:{position:"absolute",pointerEvents:"none"},children:y("defs",{children:I("pattern",{id:"mapplic-stripe-pattern",patternTransform:"rotate(135)",width:"100%",height:"2",x:"0",y:"0",patternUnits:"userSpaceOnUse",children:[y("rect",{x:"0",y:"0",width:"100%",height:"1",fill:"rgba(151, 71, 255, 0.2)"}),y("rect",{x:"0",y:"1",width:"100%",height:"1",fill:"#fafafa"})]})})}),Yo=({width:e,aspectRatio:t})=>{var S;const n=g(b=>b.data.settings),r=g(b=>b.hovered),i=g(b=>b.transition),s=g(b=>b.location),o=g(b=>b.layer),c=g(b=>b.newLocation),a=g(b=>b.estPos),u=g(b=>b.getLocationById),l=g(b=>b.getSampledLocation),h=g(b=>b.displayList);g(b=>b.filters);const[d,m]=v.useState({}),[x,T]=v.useState({}),k=v.useRef(null);return y(ye.div,{className:"mapplic-overlay",ref:k,style:{aspectRatio:t},animate:{width:e||0},transition:i,children:I(Vt,{children:[(S=h())==null?void 0:S.map(b=>(!b.layer||b.layer===o)&&y(Qf,{location:l(b),setOffsets:m},b.id)),os&&s&&y(os,{location:u(),layer:o,dragConstraints:k,setTempCoord:T}),as&&c&&y(as,{location:{id:c,...a[c]},layer:o},"new"),y(ss,{cond:s,location:{...l(),...x},offset:d[s],layer:o},"focused"),y(ss,{cond:n.hoverTooltip&&r&&r!==s,hover:!0,location:l(u(r)),offset:d[r],layer:o},"hovered")]})})},td=({source:e,parentScale:t,active:n=!0})=>{const r=g(l=>l.admin),i=g(l=>l.data.settings),s=g(l=>l.selectedVector),o=g(l=>l.setSelectedVector),c=g(l=>l.layer),a=v.useRef(null),u=12/t||2;return n?y("svg",{viewBox:`0 0 ${i.mapWidth} ${i.mapHeight}`,style:{cursor:"crosshair",pointerEvents:"none",position:"absolute",top:0,left:0},ref:a,children:e==null?void 0:e.filter(l=>l.layer===c&&l.id!==s).map(l=>y(l.element,{points:l.points,onClick:h=>{!s&&r&&(h&&h.stopPropagation(),o(l.id))},style:{pointerEvents:s?"none":"auto",cursor:"pointer"},stroke:l.endpoint?"green":"red",strokeWidth:u/10,strokeLinejoin:"round",strokeDasharray:l.inaccessible?u/5:"none",fill:l.element!=="polygon"?"none":"black",fillOpacity:"0.2"},l.id))}):null},sn="#9747FF",zt=2,nd=({size:e,element:t,elementRef:n,modifyElement:r,getCursorPos:i,snapTo:s,parentScale:o})=>{var R;const c=g(C=>C.data.settings),a=g(C=>C.dragging),u=v.useRef(0),l=()=>(u.current++,u.current),[h,d]=v.useState(!1),[m,x]=v.useState((R=t==null?void 0:t.points)==null?void 0:R.split(" ").map(C=>C.split(",").map(Number)).map(C=>({id:l(),x:C[0],y:C[1]})));v.useEffect(()=>{n.current={...t,points:m==null?void 0:m.map(C=>`${C.x},${C.y}`).join(" ")}},[t,n,m]);const T=C=>Array.isArray(C)?{x:pe(C[0],zt),y:pe(C[1],zt)}:{x:pe(C.x,zt),y:pe(C.y,zt)},k=C=>{const p=e;let f=null,w=p;for(const L of s){const M={x:L[0],y:L[1]},F=Math.sqrt((C.x-M.x)**2+(C.y-M.y)**2);F<=p&&F<w&&(f=M,w=F)}return f||C},S=(C,p=m.length)=>{x(f=>[...f.slice(0,p),{id:l(),...k(T(C))},...f.slice(p)])},b=C=>{const p=m.find(w=>w.id===C.id),f=k(T(C));if(!p||f.x===p.x&&f.y===p.y)return!1;x(w=>w.map(L=>L.id===C.id?{...C,...f}:L))},E=C=>{x(p=>p.filter(f=>f.id!==C))},O=C=>{C.stopPropagation(),(t==null?void 0:t.element)==="polyline"&&!a&&S(i(C))},A=()=>{r(t.id,{element:n.current.element==="polygon"?"polyline":"polygon"})};return m?I("g",{style:{pointerEvents:"auto"},children:[y("rect",{onClick:O,style:{pointerEvents:"auto"},x:"0",y:"0",width:c.mapWidth,height:c.mapHeight,fill:"green",opacity:"0"}),m==null?void 0:m.map((C,p)=>p>0?y(cs,{i:p,size:e,editing:h,p1:m[p-1],p2:C,getCursorPos:i,addPoint:S},C.id):null),t.element==="polygon"&&y(cs,{size:e,editing:h,p1:m[0],p2:m[m.length-1],getCursorPos:i,addPoint:S}),m==null?void 0:m.map((C,p)=>y(Zo,{i:p,point:C,getCursorPos:i,modifyPoint:b,deletePoint:E,toggleType:A,setEditing:d,size:e,parentScale:o},C.id))]}):null},rd=(e,t,n)=>{const r=n.x-t.x,i=n.y-t.y;if(r===0)return{x:t.x,y:e.y};const s=i/r,o=-1/s,c=(s*t.x-o*e.x+e.y-t.y)/(s-o),a=o*(c-e.x)+e.y;return{x:c,y:a}},cs=({i:e,p1:t,p2:n,size:r,getCursorPos:i,addPoint:s,editing:o})=>{const[c,a]=v.useState(null);return I("g",{onMouseMove:h=>{if(!i)return;const d=i(h);a(rd({x:d[0],y:d[1]},t,n))},onMouseLeave:()=>a(null),onMouseDown:h=>{h.stopPropagation(),s([c.x,c.y],e),a(null)},children:[y("line",{x1:t.x,y1:t.y,x2:n.x,y2:n.y,stroke:sn,strokeWidth:r/10}),y("line",{style:{cursor:"pointer",pointerEvents:"auto"},x1:t.x,y1:t.y,x2:n.x,y2:n.y,stroke:sn,strokeOpacity:.1,strokeWidth:r/10*6}),c&&!o&&y(Zo,{point:c,size:r})]})},Zo=({i:e,point:t,modifyPoint:n,deletePoint:r,toggleType:i,size:s,parentScale:o,setEditing:c})=>{const a=et(0),u=et(0),[l,h]=v.useState(null);return y(ye.circle,{drag:!0,dragMomentum:!1,onDragStart:()=>{h(t),c&&c(!0)},onDrag:(d,m)=>{l&&n&&(n({...t,x:l.x+m.offset.x/o,y:l.y+m.offset.y/o}),a.set(0),u.set(0))},onDragEnd:(d,m)=>{if(!n)return;const x=[a.get(),u.get()];n({...t,x:t.x+x[0],y:t.y+x[1]}),a.set(0),u.set(0),h(null),c&&c(!1)},onClick:d=>{d.stopPropagation(),d.detail===2&&r&&l===null?r(t.id):e===0&&l===null&&i()},cx:t.x,cy:t.y,r:s/2,style:{x:a,y:u,outline:"none",pointerEvents:"auto",cursor:"pointer"},stroke:sn,fill:e===0?sn:"white",strokeWidth:s/10*2})},ls=({source:e,setSource:t,prefix:n,parentScale:r,active:i=!0})=>{var A;const s=g(R=>R.layer),o=g(R=>R.selectedVector),c=g(R=>R.setSelectedVector),a=g(R=>R.getVectorById),u=g(R=>R.data.settings),l=g(R=>R.dragging),h=v.useRef(null),d=v.useRef((e==null?void 0:e.length)+1),m=12/r||2,x=v.useRef(null);v.useEffect(()=>{var R;x.current&&!o&&(O((R=x.current)==null?void 0:R.id,x.current),x.current=null)},[o]),v.useEffect(()=>{const R=C=>{C.key==="Escape"&&(C.preventDefault(),c(null))};return document.addEventListener("keydown",R),()=>{document.removeEventListener("keydown",R)}},[c]);const T=R=>{const C=h.current.getBoundingClientRect();return[pe((R.clientX-C.left)/r),pe((R.clientY-C.top)/r)]},k=()=>{const R=p=>e.some(f=>f.id===p);let C=n+d.current;for(;R(C);)d.current++,C=n+d.current;return C},S=R=>{!l&&!o&&E(R)},b=()=>e==null?void 0:e.filter(R=>R.layer===s&&R.id!==o).map(R=>R.points.split(" ").map(C=>[...C.split(",").map(Number),R.id])).flat(),E=R=>{const C=k();t([...e,{id:C,layer:s,element:"polyline",points:T(R).join(",")}]),c(C)},O=(R,C)=>{t(e.map(p=>p.id===R?{...p,...C}:p))};return!e||!i?null:I("svg",{viewBox:`0 0 ${u.mapWidth} ${u.mapHeight}`,style:{cursor:"crosshair",pointerEvents:"auto",position:"absolute",top:0,left:0},onClick:S,ref:h,children:[y("g",{children:b().map((R,C)=>y("circle",{style:{pointerEvents:"auto",cursor:"pointer"},onClick:p=>{p.stopPropagation(),c(R[2])},cx:R[0],cy:R[1],r:pe(m,2),fill:"#000",fillOpacity:.1,strokeWidth:pe(m/10*2)},C))}),((A=a(o))==null?void 0:A.layer)===s&&y(nd,{elementRef:x,size:m,snapTo:b(),element:a(o),getCursorPos:T,modifyElement:O,parentScale:r})]})};var id=globalThis&&globalThis.__read||function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(c){o={error:c}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},sd=function(e){var t=e.split(/ ?; ?/);return t.reduce(function(n,r){var i=id(r.split(/ ?: ?/),2),s=i[0],o=i[1];return s&&o&&(n[s.replace(/-(\w)/g,function(c,a){return a.toUpperCase()})]=Number.isNaN(Number(o))?o:Number(o)),n},{})};function od(e){e===void 0&&(e=6);for(var t="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n="",r=e;r>0;--r)n+=t[Math.round(Math.random()*(t.length-1))];return n}var ad=["br","col","colgroup","dl","hr","iframe","img","input","link","menuitem","meta","ol","param","select","table","tbody","tfoot","thead","tr","ul","wbr"],us={"accept-charset":"acceptCharset",acceptcharset:"acceptCharset",accesskey:"accessKey",allowfullscreen:"allowFullScreen",autocapitalize:"autoCapitalize",autocomplete:"autoComplete",autocorrect:"autoCorrect",autofocus:"autoFocus",autoplay:"autoPlay",autosave:"autoSave",cellpadding:"cellPadding",cellspacing:"cellSpacing",charset:"charSet",class:"className",classid:"classID",classname:"className",colspan:"colSpan",contenteditable:"contentEditable",contextmenu:"contextMenu",controlslist:"controlsList",crossorigin:"crossOrigin",dangerouslysetinnerhtml:"dangerouslySetInnerHTML",datetime:"dateTime",defaultchecked:"defaultChecked",defaultvalue:"defaultValue",enctype:"encType",for:"htmlFor",formmethod:"formMethod",formaction:"formAction",formenctype:"formEncType",formnovalidate:"formNoValidate",formtarget:"formTarget",frameborder:"frameBorder",hreflang:"hrefLang",htmlfor:"htmlFor",httpequiv:"httpEquiv","http-equiv":"httpEquiv",icon:"icon",innerhtml:"innerHTML",inputmode:"inputMode",itemid:"itemID",itemprop:"itemProp",itemref:"itemRef",itemscope:"itemScope",itemtype:"itemType",keyparams:"keyParams",keytype:"keyType",marginwidth:"marginWidth",marginheight:"marginHeight",maxlength:"maxLength",mediagroup:"mediaGroup",minlength:"minLength",nomodule:"noModule",novalidate:"noValidate",playsinline:"playsInline",radiogroup:"radioGroup",readonly:"readOnly",referrerpolicy:"referrerPolicy",rowspan:"rowSpan",spellcheck:"spellCheck",srcdoc:"srcDoc",srclang:"srcLang",srcset:"srcSet",tabindex:"tabIndex",typemustmatch:"typeMustMatch",usemap:"useMap",accentheight:"accentHeight","accent-height":"accentHeight",alignmentbaseline:"alignmentBaseline","alignment-baseline":"alignmentBaseline",allowreorder:"allowReorder",arabicform:"arabicForm","arabic-form":"arabicForm",attributename:"attributeName",attributetype:"attributeType",autoreverse:"autoReverse",basefrequency:"baseFrequency",baselineshift:"baselineShift","baseline-shift":"baselineShift",baseprofile:"baseProfile",calcmode:"calcMode",capheight:"capHeight","cap-height":"capHeight",clippath:"clipPath","clip-path":"clipPath",clippathunits:"clipPathUnits",cliprule:"clipRule","clip-rule":"clipRule",colorinterpolation:"colorInterpolation","color-interpolation":"colorInterpolation",colorinterpolationfilters:"colorInterpolationFilters","color-interpolation-filters":"colorInterpolationFilters",colorprofile:"colorProfile","color-profile":"colorProfile",colorrendering:"colorRendering","color-rendering":"colorRendering",contentscripttype:"contentScriptType",contentstyletype:"contentStyleType",diffuseconstant:"diffuseConstant",dominantbaseline:"dominantBaseline","dominant-baseline":"dominantBaseline",edgemode:"edgeMode",enablebackground:"enableBackground","enable-background":"enableBackground",externalresourcesrequired:"externalResourcesRequired",fillopacity:"fillOpacity","fill-opacity":"fillOpacity",fillrule:"fillRule","fill-rule":"fillRule",filterres:"filterRes",filterunits:"filterUnits",floodopacity:"floodOpacity","flood-opacity":"floodOpacity",floodcolor:"floodColor","flood-color":"floodColor",fontfamily:"fontFamily","font-family":"fontFamily",fontsize:"fontSize","font-size":"fontSize",fontsizeadjust:"fontSizeAdjust","font-size-adjust":"fontSizeAdjust",fontstretch:"fontStretch","font-stretch":"fontStretch",fontstyle:"fontStyle","font-style":"fontStyle",fontvariant:"fontVariant","font-variant":"fontVariant",fontweight:"fontWeight","font-weight":"fontWeight",glyphname:"glyphName","glyph-name":"glyphName",glyphorientationhorizontal:"glyphOrientationHorizontal","glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphorientationvertical:"glyphOrientationVertical","glyph-orientation-vertical":"glyphOrientationVertical",glyphref:"glyphRef",gradienttransform:"gradientTransform",gradientunits:"gradientUnits",horizadvx:"horizAdvX","horiz-adv-x":"horizAdvX",horizoriginx:"horizOriginX","horiz-origin-x":"horizOriginX",imagerendering:"imageRendering","image-rendering":"imageRendering",kernelmatrix:"kernelMatrix",kernelunitlength:"kernelUnitLength",keypoints:"keyPoints",keysplines:"keySplines",keytimes:"keyTimes",lengthadjust:"lengthAdjust",letterspacing:"letterSpacing","letter-spacing":"letterSpacing",lightingcolor:"lightingColor","lighting-color":"lightingColor",limitingconeangle:"limitingConeAngle",markerend:"markerEnd","marker-end":"markerEnd",markerheight:"markerHeight",markermid:"markerMid","marker-mid":"markerMid",markerstart:"markerStart","marker-start":"markerStart",markerunits:"markerUnits",markerwidth:"markerWidth",maskcontentunits:"maskContentUnits",maskunits:"maskUnits",numoctaves:"numOctaves",overlineposition:"overlinePosition","overline-position":"overlinePosition",overlinethickness:"overlineThickness","overline-thickness":"overlineThickness",paintorder:"paintOrder","paint-order":"paintOrder","panose-1":"panose1",pathlength:"pathLength",patterncontentunits:"patternContentUnits",patterntransform:"patternTransform",patternunits:"patternUnits",pointerevents:"pointerEvents","pointer-events":"pointerEvents",pointsatx:"pointsAtX",pointsaty:"pointsAtY",pointsatz:"pointsAtZ",preservealpha:"preserveAlpha",preserveaspectratio:"preserveAspectRatio",primitiveunits:"primitiveUnits",refx:"refX",refy:"refY",renderingintent:"renderingIntent","rendering-intent":"renderingIntent",repeatcount:"repeatCount",repeatdur:"repeatDur",requiredextensions:"requiredExtensions",requiredfeatures:"requiredFeatures",shaperendering:"shapeRendering","shape-rendering":"shapeRendering",specularconstant:"specularConstant",specularexponent:"specularExponent",spreadmethod:"spreadMethod",startoffset:"startOffset",stddeviation:"stdDeviation",stitchtiles:"stitchTiles",stopcolor:"stopColor","stop-color":"stopColor",stopopacity:"stopOpacity","stop-opacity":"stopOpacity",strikethroughposition:"strikethroughPosition","strikethrough-position":"strikethroughPosition",strikethroughthickness:"strikethroughThickness","strikethrough-thickness":"strikethroughThickness",strokedasharray:"strokeDasharray","stroke-dasharray":"strokeDasharray",strokedashoffset:"strokeDashoffset","stroke-dashoffset":"strokeDashoffset",strokelinecap:"strokeLinecap","stroke-linecap":"strokeLinecap",strokelinejoin:"strokeLinejoin","stroke-linejoin":"strokeLinejoin",strokemiterlimit:"strokeMiterlimit","stroke-miterlimit":"strokeMiterlimit",strokewidth:"strokeWidth","stroke-width":"strokeWidth",strokeopacity:"strokeOpacity","stroke-opacity":"strokeOpacity",suppresscontenteditablewarning:"suppressContentEditableWarning",suppresshydrationwarning:"suppressHydrationWarning",surfacescale:"surfaceScale",systemlanguage:"systemLanguage",tablevalues:"tableValues",targetx:"targetX",targety:"targetY",textanchor:"textAnchor","text-anchor":"textAnchor",textdecoration:"textDecoration","text-decoration":"textDecoration",textlength:"textLength",textrendering:"textRendering","text-rendering":"textRendering",underlineposition:"underlinePosition","underline-position":"underlinePosition",underlinethickness:"underlineThickness","underline-thickness":"underlineThickness",unicodebidi:"unicodeBidi","unicode-bidi":"unicodeBidi",unicoderange:"unicodeRange","unicode-range":"unicodeRange",unitsperem:"unitsPerEm","units-per-em":"unitsPerEm",unselectable:"unselectable",valphabetic:"vAlphabetic","v-alphabetic":"vAlphabetic",vectoreffect:"vectorEffect","vector-effect":"vectorEffect",vertadvy:"vertAdvY","vert-adv-y":"vertAdvY",vertoriginx:"vertOriginX","vert-origin-x":"vertOriginX",vertoriginy:"vertOriginY","vert-origin-y":"vertOriginY",vhanging:"vHanging","v-hanging":"vHanging",videographic:"vIdeographic","v-ideographic":"vIdeographic",viewbox:"viewBox",viewtarget:"viewTarget",vmathematical:"vMathematical","v-mathematical":"vMathematical",wordspacing:"wordSpacing","word-spacing":"wordSpacing",writingmode:"writingMode","writing-mode":"writingMode",xchannelselector:"xChannelSelector",xheight:"xHeight","x-height":"xHeight",xlinkactuate:"xlinkActuate","xlink:actuate":"xlinkActuate",xlinkarcrole:"xlinkArcrole","xlink:arcrole":"xlinkArcrole",xlinkhref:"xlinkHref","xlink:href":"xlinkHref",xlinkrole:"xlinkRole","xlink:role":"xlinkRole",xlinkshow:"xlinkShow","xlink:show":"xlinkShow",xlinktitle:"xlinkTitle","xlink:title":"xlinkTitle",xlinktype:"xlinkType","xlink:type":"xlinkType",xmlbase:"xmlBase","xml:base":"xmlBase",xmllang:"xmlLang","xml:lang":"xmlLang","xml:space":"xmlSpace",xmlnsxlink:"xmlnsXlink","xmlns:xlink":"xmlnsXlink",xmlspace:"xmlSpace",ychannelselector:"yChannelSelector",zoomandpan:"zoomAndPan",onblur:"onBlur",onchange:"onChange",onclick:"onClick",oncontextmenu:"onContextMenu",ondoubleclick:"onDoubleClick",ondrag:"onDrag",ondragend:"onDragEnd",ondragenter:"onDragEnter",ondragexit:"onDragExit",ondragleave:"onDragLeave",ondragover:"onDragOver",ondragstart:"onDragStart",ondrop:"onDrop",onerror:"onError",onfocus:"onFocus",oninput:"onInput",oninvalid:"onInvalid",onkeydown:"onKeyDown",onkeypress:"onKeyPress",onkeyup:"onKeyUp",onload:"onLoad",onmousedown:"onMouseDown",onmouseenter:"onMouseEnter",onmouseleave:"onMouseLeave",onmousemove:"onMouseMove",onmouseout:"onMouseOut",onmouseover:"onMouseOver",onmouseup:"onMouseUp",onscroll:"onScroll",onsubmit:"onSubmit",ontouchcancel:"onTouchCancel",ontouchend:"onTouchEnd",ontouchmove:"onTouchMove",ontouchstart:"onTouchStart",onwheel:"onWheel"},on=globalThis&&globalThis.__assign||function(){return on=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},on.apply(this,arguments)},Qo=globalThis&&globalThis.__read||function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(c){o={error:c}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},Jo=globalThis&&globalThis.__spreadArray||function(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))};function cd(e,t){var n={key:t};if(e instanceof Element){var r=e.getAttribute("class");r&&(n.className=r),Jo([],Qo(e.attributes),!1).forEach(function(i){switch(i.name){case"class":break;case"style":n[i.name]=sd(i.value);break;case"allowfullscreen":case"allowpaymentrequest":case"async":case"autofocus":case"autoplay":case"checked":case"controls":case"default":case"defer":case"disabled":case"formnovalidate":case"hidden":case"ismap":case"itemscope":case"loop":case"multiple":case"muted":case"nomodule":case"novalidate":case"open":case"readonly":case"required":case"reversed":case"selected":case"typemustmatch":n[us[i.name]||i.name]=!0;break;default:n[us[i.name]||i.name]=i.value}})}return n}function ld(e,t,n){var r=Jo([],Qo(e),!1).map(function(i,s){return Gr(i,on(on({},n),{index:s,level:t+1}))}).filter(Boolean);return r.length?r:null}function ud(e){return/[a-z]+[A-Z]+[a-z]+/.test(e)?e:e.toLowerCase()}function Gr(e,t){var n;if(t===void 0&&(t={}),!e||!(e instanceof Node))return null;var r=t.actions,i=r===void 0?[]:r,s=t.index,o=s===void 0?0:s,c=t.level,a=c===void 0?0:c,u=t.randomKey,l=e,h="".concat(a,"-").concat(o),d=[];if(u&&a===0&&(h="".concat(od(),"-").concat(h)),Array.isArray(i)&&i.forEach(function(T){T.condition(l,h,a)&&(typeof T.pre=="function"&&(l=T.pre(l,h,a),l instanceof Node||(l=e)),typeof T.post=="function"&&d.push(T.post(l,h,a)))}),d.length)return d;switch(l.nodeType){case 1:return v.createElement(ud(l.nodeName),cd(l,h),ld(l.childNodes,a,t));case 3:{var m=((n=l.nodeValue)===null||n===void 0?void 0:n.toString())||"";if(/^\s+$/.test(m)&&!/[\u00A0\u202F]/.test(m))return null;if(!l.parentNode)return m;var x=l.parentNode.nodeName.toLowerCase();return ad.includes(x)?(/\S/.test(m)&&console.warn("A textNode is not allowed inside '".concat(x,`'. Your text "`).concat(m,'" will be ignored')),null):m}case 8:return null;default:return null}}function hd(e,t){if(t===void 0&&(t={}),!e||typeof e!="string")return null;var n=t.nodeOnly,r=n===void 0?!1:n,i=t.selector,s=i===void 0?"body > *":i,o=t.type,c=o===void 0?"text/html":o;try{var a=new DOMParser,u=a.parseFromString(e,c),l=u.querySelector(s);if(!(l instanceof Node))throw new TypeError("Error parsing input");return r?l:Gr(l,t)}catch{}return null}function ea(e,t){return t===void 0&&(t={}),typeof e=="string"?hd(e,t):e instanceof Node?Gr(e,t):null}var fd=Object.defineProperty,dd=(e,t,n)=>t in e?fd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$t=(e,t,n)=>(dd(e,typeof t!="symbol"?t+"":t,n),n),hs="react-inlinesvg",fs=10,X={IDLE:"idle",LOADING:"loading",LOADED:"loaded",FAILED:"failed",READY:"ready",UNSUPPORTED:"unsupported"};function Kt(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function pd(){return gd()&&typeof window<"u"&&window!==null}async function ta(e,t){const n=await fetch(e,t),r=n.headers.get("content-type"),[i]=(r??"").split(/ ?; ?/);if(n.status>299)throw new Error("Not found");if(!["image/svg+xml","text/plain"].some(s=>i.includes(s)))throw new Error(`Content type isn't valid: ${i}`);return n.text()}function md(e=1){return new Promise(t=>{setTimeout(t,e*1e3)})}function gd(){if(!document)return!1;const e=document.createElement("div");e.innerHTML="<svg />";const t=e.firstChild;return!!t&&t.namespaceURI==="http://www.w3.org/2000/svg"}function yd(e){return e[Math.floor(Math.random()*e.length)]}function vd(e){const t="abcdefghijklmnopqrstuvwxyz",n="1234567890",r=`${t}${t.toUpperCase()}${n}`;let i="";for(let s=0;s<e;s++)i+=yd(r);return i}function bd(e,...t){const n={};for(const r in e)({}).hasOwnProperty.call(e,r)&&(t.includes(r)||(n[r]=e[r]));return n}var xd=class{constructor(){$t(this,"cacheApi"),$t(this,"cacheStore"),$t(this,"subscribers",[]),$t(this,"isReady",!1),this.cacheStore=new Map;let e=hs,t=!1;Kt()&&(e=window.REACT_INLINESVG_CACHE_NAME??hs,t=!!window.REACT_INLINESVG_PERSISTENT_CACHE&&"caches"in window),t?caches.open(e).then(n=>{this.cacheApi=n,this.isReady=!0,this.subscribers.forEach(r=>r())}).catch(n=>{this.isReady=!0,console.error(`Failed to open cache: ${n.message}`)}):this.isReady=!0}onReady(e){this.isReady?e():this.subscribers.push(e)}async get(e,t){var n;return await(this.cacheApi?this.fetchAndAddToPersistentCache(e,t):this.fetchAndAddToInternalCache(e,t)),((n=this.cacheStore.get(e))==null?void 0:n.content)??""}set(e,t){this.cacheStore.set(e,t)}isCached(e){var t;return((t=this.cacheStore.get(e))==null?void 0:t.status)===X.LOADED}async fetchAndAddToInternalCache(e,t){const n=this.cacheStore.get(e);if((n==null?void 0:n.status)===X.LOADING){await this.handleLoading(e,async()=>{this.cacheStore.set(e,{content:"",status:X.IDLE}),await this.fetchAndAddToInternalCache(e,t)});return}if(!(n!=null&&n.content)){this.cacheStore.set(e,{content:"",status:X.LOADING});try{const r=await ta(e,t);this.cacheStore.set(e,{content:r,status:X.LOADED})}catch(r){throw this.cacheStore.set(e,{content:"",status:X.FAILED}),r}}}async fetchAndAddToPersistentCache(e,t){var i,s,o;const n=this.cacheStore.get(e);if((n==null?void 0:n.status)===X.LOADED)return;if((n==null?void 0:n.status)===X.LOADING){await this.handleLoading(e,async()=>{this.cacheStore.set(e,{content:"",status:X.IDLE}),await this.fetchAndAddToPersistentCache(e,t)});return}this.cacheStore.set(e,{content:"",status:X.LOADING});const r=await((i=this.cacheApi)==null?void 0:i.match(e));if(r){const c=await r.text();this.cacheStore.set(e,{content:c,status:X.LOADED});return}try{await((s=this.cacheApi)==null?void 0:s.add(new Request(e,t)));const c=await((o=this.cacheApi)==null?void 0:o.match(e)),a=await(c==null?void 0:c.text())??"";this.cacheStore.set(e,{content:a,status:X.LOADED})}catch(c){throw this.cacheStore.set(e,{content:"",status:X.FAILED}),c}}async handleLoading(e,t){var r;let n=0;for(;((r=this.cacheStore.get(e))==null?void 0:r.status)===X.LOADING&&n<fs;)await md(.1),n+=1;n>=fs&&await t()}keys(){return[...this.cacheStore.keys()]}data(){return[...this.cacheStore.entries()].map(([e,t])=>({[e]:t}))}async delete(e){this.cacheApi&&await this.cacheApi.delete(e),this.cacheStore.delete(e)}async clear(){if(this.cacheApi){const e=await this.cacheApi.keys();for(const t of e)await this.cacheApi.delete(t)}this.cacheStore.clear()}};function ds(e){const t=v.useRef();return v.useEffect(()=>{t.current=e}),t.current}function wd(e){const{baseURL:t,content:n,description:r,handleError:i,hash:s,preProcessor:o,title:c,uniquifyIDs:a=!1}=e;try{const u=Cd(n,o),l=ea(u,{nodeOnly:!0});if(!l||!(l instanceof SVGSVGElement))throw new Error("Could not convert the src to a DOM Node");const h=na(l,{baseURL:t,hash:s,uniquifyIDs:a});if(r){const d=h.querySelector("desc");d!=null&&d.parentNode&&d.parentNode.removeChild(d);const m=document.createElementNS("http://www.w3.org/2000/svg","desc");m.innerHTML=r,h.prepend(m)}if(typeof c<"u"){const d=h.querySelector("title");if(d!=null&&d.parentNode&&d.parentNode.removeChild(d),c){const m=document.createElementNS("http://www.w3.org/2000/svg","title");m.innerHTML=c,h.prepend(m)}}return h}catch(u){return i(u)}}function Cd(e,t){return t?t(e):e}function na(e,t){const{baseURL:n="",hash:r,uniquifyIDs:i}=t,s=["id","href","xlink:href","xlink:role","xlink:arcrole"],o=["href","xlink:href"],c=(a,u)=>o.includes(a)&&(u?!u.includes("#"):!1);return i&&[...e.children].forEach(a=>{var u;if((u=a.attributes)!=null&&u.length){const l=Object.values(a.attributes).map(h=>{const d=h,m=/url\((.*?)\)/.exec(h.value);return m!=null&&m[1]&&(d.value=h.value.replace(m[0],`url(${n}${m[1]}__${r})`)),d});s.forEach(h=>{const d=l.find(m=>m.name===h);d&&!c(h,d.value)&&(d.value=`${d.value}__${r}`)})}return a.children.length?na(a,t):a}),e}var ft;function Pd(e){const{cacheRequests:t=!0,children:n=null,description:r,fetchOptions:i,innerRef:s,loader:o=null,onError:c,onLoad:a,src:u,title:l,uniqueHash:h}=e,[d,m]=v.useReducer((P,V)=>({...P,...V}),{content:"",element:null,isCached:t&&ft.isCached(e.src),status:X.IDLE}),{content:x,element:T,isCached:k,status:S}=d,b=ds(e),E=ds(d),O=v.useRef(h??vd(8)),A=v.useRef(!1),R=v.useRef(!1),C=v.useCallback(P=>{A.current&&(m({status:P.message==="Browser does not support SVG"?X.UNSUPPORTED:X.FAILED}),c==null||c(P))},[c]),p=v.useCallback((P,V=!1)=>{A.current&&m({content:P,isCached:V,status:X.LOADED})},[]),f=v.useCallback(async()=>{const P=await ta(u,i);p(P)},[i,p,u]),w=v.useCallback(()=>{try{const P=wd({...e,handleError:C,hash:O.current,content:x}),V=ea(P);if(!V||!v.isValidElement(V))throw new Error("Could not convert the src to a React element");m({element:V,status:X.READY})}catch(P){C(new Error(P.message))}},[x,C,e]),L=v.useCallback(async()=>{const P=/^data:image\/svg[^,]*?(;base64)?,(.*)/u.exec(u);let V;if(P?V=P[1]?window.atob(P[2]):decodeURIComponent(P[2]):u.includes("<svg")&&(V=u),V){p(V);return}try{if(t){const B=await ft.get(u,i);p(B,!0)}else await f()}catch(B){C(B)}},[t,f,i,C,p,u]),M=v.useCallback(async()=>{A.current&&m({content:"",element:null,isCached:!1,status:X.LOADING})},[]);v.useEffect(()=>{if(A.current=!0,!Kt()||R.current)return()=>{};try{if(S===X.IDLE){if(!pd())throw new Error("Browser does not support SVG");if(!u)throw new Error("Missing src");M()}}catch(P){C(P)}return R.current=!0,()=>{A.current=!1}},[]),v.useEffect(()=>{if(Kt()&&b)if(b.src!==u){if(!u){C(new Error("Missing src"));return}M()}else(b.title!==l||b.description!==r)&&w()},[r,w,C,M,b,u,l]),v.useEffect(()=>{E&&(E.status!==X.LOADING&&S===X.LOADING&&L(),E.status!==X.LOADED&&S===X.LOADED&&w(),E.status!==X.READY&&S===X.READY&&(a==null||a(u,k)))},[L,w,k,a,E,u,S]);const F=bd(e,"baseURL","cacheRequests","children","description","fetchOptions","innerRef","loader","onError","onLoad","preProcessor","src","title","uniqueHash","uniquifyIDs");return Kt()?T?v.cloneElement(T,{ref:s,...F}):[X.UNSUPPORTED,X.FAILED].includes(S)?n:o:o}function Td(e){ft||(ft=new xd);const{loader:t}=e,n=v.useRef(!1),[r,i]=v.useState(ft.isReady);return v.useEffect(()=>{n.current||(ft.onReady(()=>{i(!0)}),n.current=!0)},[]),r?y(Pd,{...e}):t}const ra=({parentScale:e})=>{const t=g(l=>l.data),n=g(l=>l.setData),r=g(l=>l.data.settings),i=g(l=>l.layer),s=g(l=>l.data.layers),o=g(l=>l.setLatLonCache),c=g(l=>l.routesEditing);g(l=>l.layer),v.useEffect(()=>{o()},[r==null?void 0:r.geo,r==null?void 0:r.extent,r.mapWidth,o]);const a={initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2}},u=()=>r.zoom?{width:r.mapWidth+"px",height:r.mapHeight+"px"}:{};return y(Vt,{mode:"wait",children:s.map(l=>l.id===i&&I(ye.div,{className:"mapplic-layer",style:u(),...a,children:[fa(l.file)==="svg"?y(kd,{layer:l}):y("img",{src:l.file,alt:l.name}),ls&&y(ls,{source:(t==null?void 0:t.routes)||[],setSource:h=>n({routes:h}),prefix:"path_",parentScale:e,active:c}),y(td,{source:t==null?void 0:t.routes,parentScale:e,active:c}),r.wayfinding&&y(_f,{layer:l.id})]},l.id))})},kd=({layer:e,...t})=>{const n=g(f=>f.csv),r=g(f=>f.search),i=g(f=>f.admin),s=g(f=>f.filters),o=g(f=>f.newLocation),c=g(f=>f.dragging),a=g(f=>f.setEstPos),u=g(f=>f.displayList),l=g(f=>f.getFilterCount),h=g(f=>f.getLocationById),d=g(f=>f.getSampledLocation),m=g(f=>f.data.settings),x=g(f=>f.data.locations),T=g(f=>f.data.layers),k=g(f=>f.hovered),S=g(f=>f.setHovered),b=g(f=>f.openLocation),E=g(f=>f.location),O=v.useRef(null);v.useEffect(()=>{var f;O.current&&(O.current.querySelectorAll(".mapplic-active").forEach(w=>w.classList.remove("mapplic-active")),E&&((f=O.current.getElementById(E))==null||f.classList.add("mapplic-active")))},[E]),v.useEffect(()=>{var f;O.current&&(O.current.querySelectorAll(".mapplic-highlight").forEach(w=>w.classList.remove("mapplic-highlight")),k&&((f=O.current.getElementById(k))==null||f.classList.add("mapplic-highlight")))},[k]),v.useEffect(()=>{O.current&&(O.current.querySelectorAll(".mapplic-filtered").forEach(f=>f.classList.remove("mapplic-filtered")),A())},[r,s,n]),v.useEffect(()=>{var f;O.current&&i&&(O.current.querySelectorAll(".mapplic-new-location").forEach(w=>w.classList.remove("mapplic-new-location")),o&&((f=O.current.getElementById(o))==null||f.classList.add("mapplic-new-location")))},[i,o]),v.useEffect(()=>{var f;(f=O.current)==null||f.querySelectorAll("[id^=MLOC] > *").forEach(w=>{C(w)})},[x,T,n]);const A=()=>{(r||l()>0)&&u().forEach(f=>{var w;(w=O.current.getElementById(f.id))==null||w.classList.add("mapplic-filtered")})},R=()=>{let f={};O.current.querySelectorAll("[id^=MLOC] > *").forEach(w=>{const L=w.getBBox(),M=w.getAttribute("data-name"),F={coord:[pe((L.x+L.width/2)/m.mapWidth,4),pe((L.y+L.height/2)/m.mapHeight,4)],zoom:pe(Math.min(m.mapWidth/(L.width+40),m.mapHeight/(L.height+40)),4),layer:e.id,...M&&{title:M}};f={...f,[w.id]:F},C(w)}),A(),a(f)},C=f=>{f.setAttribute("class",e.style||"");const w=h(f.id);if(!w.id)return;const L=d(w);L.disable||(L.color&&f.setAttribute("fill",L.color),L.style&&f.classList.add(L.style),E===f.id&&f.classList.add("mapplic-active"))},p=f=>{var w;return(w=f.closest("*[id^=MLOC] > *[id]"))==null?void 0:w.id};return y(Td,{...t,width:m.mapWidth,height:m.mapHeight,innerRef:O,src:e.file,onClick:f=>{c||b(p(f.target))},onMouseMove:f=>S(p(f.target)),onTouchStart:f=>S(p(f.target)),onMouseOut:()=>S(!1),onTouchEnd:()=>S(!1),onLoad:()=>R()})},Ed=({container:e,containerSize:t,aspectRatio:n})=>{const r=g(P=>P.data.settings),i=g(P=>P.pos),s=g(P=>P.setPos),o=g(P=>P.target),c=g(P=>P.transition),a=g(P=>P.setTransition),u=g(P=>P.dragging),l=g(P=>P.setDragging),h=g(P=>P.offset),d=v.useRef(),m=Lh(),x=P=>{m.start(P)},[T,k]=v.useState({scale:1,x:0,y:0}),S=et(0),b=et(0),E=et(1);v.useEffect(()=>{f(i.scale,i.x,i.y,{duration:0})},[t]),v.useEffect(()=>{const P=.5+h.h/(t==null?void 0:t.height)/2;f(o.scale,o.x,o.y,c,P?[.5,P]:void 0)},[o,h.h]);const O=v.useMemo(()=>pe(Math.min((t==null?void 0:t.height)/r.mapHeight,(t==null?void 0:t.width)/r.mapWidth),4),[t==null?void 0:t.height,t==null?void 0:t.width,r.mapHeight,r.mapWidth]),A=(P=i.scale)=>pe(Math.min(Math.max(P,1),r.maxZoom),4),R=(P=T.scale)=>{const V=Math.max(P===O?0:t==null?void 0:t.width,(t==null?void 0:t.width)-r.mapWidth*P)/2,B=Math.max(P===O?0:t==null?void 0:t.height,(t==null?void 0:t.height)-r.mapHeight*P)/2;return{top:Math.round((t==null?void 0:t.height)-r.mapHeight*P-B),bottom:Math.round(B),left:Math.round((t==null?void 0:t.width)-r.mapWidth*P-V),right:Math.round(V)}},C=(P=T.x,V=T.y,B=T.scale,D=[.5,.5])=>({scale:B/O,x:((t==null?void 0:t.width)*D[0]-P)/(r.mapWidth*B),y:((t==null?void 0:t.height)*D[1]-V)/(r.mapHeight*B)}),p=(P=i.x,V=i.y,B=i.scale,D=[.5,.5])=>({scale:B*O,x:Math.round((t==null?void 0:t.width)*D[0]-P*r.mapWidth*B*O),y:Math.round((t==null?void 0:t.height)*D[1]-V*r.mapHeight*B*O)}),f=(P=i.scale,V=i.x,B=i.y,D={duration:.4},G=[.5,.5])=>{const j=p(V,B,A(P),G),he=R(j.scale),U={scale:j.scale,x:Math.max(Math.min(j.x,he.right),he.left),y:Math.max(Math.min(j.y,he.bottom),he.top)};U.scale&&(a(D),k(U),s(C(U.x,U.y,U.scale,G)))},w=P=>{const V=e.current.getBoundingClientRect(),B=1.6,D=A(P.deltaY<0?i.scale*B:i.scale/B);if(D>r.maxZoom)return;const G=[(P.clientX-V.x)/V.width,(P.clientY-V.y)/V.height],j=C(T.x,T.y,T.scale,G);f(D,j.x,j.y,{duration:.4},G)};v.useEffect(()=>{const P=d.current,V=(D,G)=>!D||!D.parentElement?!1:D.parentElement.classList.contains(G)||V(D.parentElement,G),B=D=>{V(D.target,"mapplic-tooltip")||D.preventDefault()};if(P)return r.mouseWheel!==!1?P.addEventListener("wheel",B,{passive:!1}):P.removeEventListener("wheel",B),()=>{P.removeEventListener("wheel",B)}},[d,r==null?void 0:r.mouseWheel]);const L=P=>{if(P.detail===2){const V=e.current.getBoundingClientRect(),B=[(P.clientX-V.x)/V.width,(P.clientY-V.y)/V.height],D=C(T.x,T.y,T.scale,B);f(A(i.scale*2),D.x,D.y,{duration:.4},B)}},M=()=>{const P={...T,x:S.get(),y:b.get()};k(P),s(C(P.x,P.y,P.scale))},F=({scale:P})=>`matrix(${P}, 0, 0, ${P}, 0, 0)`;return I(ye.div,{className:"mapplic-panzoom",drag:!0,dragControls:m,dragListener:!1,onWheel:(r==null?void 0:r.mouseWheel)===!1?void 0:w,onClick:L,ref:d,style:{x:S,y:b,cursor:u?"grabbing":"grab"},animate:{x:T.x||0,y:T.y||0},transition:c,dragTransition:{bounceStiffness:100,bounceDamping:20,timeConstant:100,power:.2},dragElastic:.3,dragConstraints:R(),onDragStart:()=>l(!0),onDragEnd:()=>setTimeout(()=>l(!1),50),onDragTransitionEnd:M,children:[y(ye.div,{className:"mapplic-layers",style:{scale:E,aspectRatio:n},transformTemplate:F,animate:{scale:T.scale||1},transition:c,onPointerDown:x,children:y(ra,{parentScale:T.scale})}),y(Yo,{width:r.mapWidth*T.scale,aspectRatio:n})]})};var tt=[],Sd=function(){return tt.some(function(e){return e.activeTargets.length>0})},Od=function(){return tt.some(function(e){return e.skippedTargets.length>0})},ps="ResizeObserver loop completed with undelivered notifications.",Ad=function(){var e;typeof ErrorEvent=="function"?e=new ErrorEvent("error",{message:ps}):(e=document.createEvent("Event"),e.initEvent("error",!1,!1),e.message=ps),window.dispatchEvent(e)},At;(function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(At||(At={}));var nt=function(e){return Object.freeze(e)},Ld=function(){function e(t,n){this.inlineSize=t,this.blockSize=n,nt(this)}return e}(),ia=function(){function e(t,n,r,i){return this.x=t,this.y=n,this.width=r,this.height=i,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,nt(this)}return e.prototype.toJSON=function(){var t=this,n=t.x,r=t.y,i=t.top,s=t.right,o=t.bottom,c=t.left,a=t.width,u=t.height;return{x:n,y:r,top:i,right:s,bottom:o,left:c,width:a,height:u}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),qr=function(e){return e instanceof SVGElement&&"getBBox"in e},sa=function(e){if(qr(e)){var t=e.getBBox(),n=t.width,r=t.height;return!n&&!r}var i=e,s=i.offsetWidth,o=i.offsetHeight;return!(s||o||e.getClientRects().length)},ms=function(e){var t;if(e instanceof Element)return!0;var n=(t=e==null?void 0:e.ownerDocument)===null||t===void 0?void 0:t.defaultView;return!!(n&&e instanceof n.Element)},Rd=function(e){switch(e.tagName){case"INPUT":if(e.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},Pt=typeof window<"u"?window:{},Wt=new WeakMap,gs=/auto|scroll/,Dd=/^tb|vertical/,Md=/msie|trident/i.test(Pt.navigator&&Pt.navigator.userAgent),Se=function(e){return parseFloat(e||"0")},dt=function(e,t,n){return e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=!1),new Ld((n?t:e)||0,(n?e:t)||0)},ys=nt({devicePixelContentBoxSize:dt(),borderBoxSize:dt(),contentBoxSize:dt(),contentRect:new ia(0,0,0,0)}),oa=function(e,t){if(t===void 0&&(t=!1),Wt.has(e)&&!t)return Wt.get(e);if(sa(e))return Wt.set(e,ys),ys;var n=getComputedStyle(e),r=qr(e)&&e.ownerSVGElement&&e.getBBox(),i=!Md&&n.boxSizing==="border-box",s=Dd.test(n.writingMode||""),o=!r&&gs.test(n.overflowY||""),c=!r&&gs.test(n.overflowX||""),a=r?0:Se(n.paddingTop),u=r?0:Se(n.paddingRight),l=r?0:Se(n.paddingBottom),h=r?0:Se(n.paddingLeft),d=r?0:Se(n.borderTopWidth),m=r?0:Se(n.borderRightWidth),x=r?0:Se(n.borderBottomWidth),T=r?0:Se(n.borderLeftWidth),k=h+u,S=a+l,b=T+m,E=d+x,O=c?e.offsetHeight-E-e.clientHeight:0,A=o?e.offsetWidth-b-e.clientWidth:0,R=i?k+b:0,C=i?S+E:0,p=r?r.width:Se(n.width)-R-A,f=r?r.height:Se(n.height)-C-O,w=p+k+A+b,L=f+S+O+E,M=nt({devicePixelContentBoxSize:dt(Math.round(p*devicePixelRatio),Math.round(f*devicePixelRatio),s),borderBoxSize:dt(w,L,s),contentBoxSize:dt(p,f,s),contentRect:new ia(h,a,p,f)});return Wt.set(e,M),M},aa=function(e,t,n){var r=oa(e,n),i=r.borderBoxSize,s=r.contentBoxSize,o=r.devicePixelContentBoxSize;switch(t){case At.DEVICE_PIXEL_CONTENT_BOX:return o;case At.BORDER_BOX:return i;default:return s}},Vd=function(){function e(t){var n=oa(t);this.target=t,this.contentRect=n.contentRect,this.borderBoxSize=nt([n.borderBoxSize]),this.contentBoxSize=nt([n.contentBoxSize]),this.devicePixelContentBoxSize=nt([n.devicePixelContentBoxSize])}return e}(),ca=function(e){if(sa(e))return 1/0;for(var t=0,n=e.parentNode;n;)t+=1,n=n.parentNode;return t},_d=function(){var e=1/0,t=[];tt.forEach(function(o){if(o.activeTargets.length!==0){var c=[];o.activeTargets.forEach(function(u){var l=new Vd(u.target),h=ca(u.target);c.push(l),u.lastReportedSize=aa(u.target,u.observedBox),h<e&&(e=h)}),t.push(function(){o.callback.call(o.observer,c,o.observer)}),o.activeTargets.splice(0,o.activeTargets.length)}});for(var n=0,r=t;n<r.length;n++){var i=r[n];i()}return e},vs=function(e){tt.forEach(function(n){n.activeTargets.splice(0,n.activeTargets.length),n.skippedTargets.splice(0,n.skippedTargets.length),n.observationTargets.forEach(function(i){i.isActive()&&(ca(i.target)>e?n.activeTargets.push(i):n.skippedTargets.push(i))})})},Fd=function(){var e=0;for(vs(e);Sd();)e=_d(),vs(e);return Od()&&Ad(),e>0},Ln,la=[],Id=function(){return la.splice(0).forEach(function(e){return e()})},Bd=function(e){if(!Ln){var t=0,n=document.createTextNode(""),r={characterData:!0};new MutationObserver(function(){return Id()}).observe(n,r),Ln=function(){n.textContent="".concat(t?t--:t++)}}la.push(e),Ln()},jd=function(e){Bd(function(){requestAnimationFrame(e)})},Xt=0,Nd=function(){return!!Xt},zd=250,$d={attributes:!0,characterData:!0,childList:!0,subtree:!0},bs=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],xs=function(e){return e===void 0&&(e=0),Date.now()+e},Rn=!1,Wd=function(){function e(){var t=this;this.stopped=!0,this.listener=function(){return t.schedule()}}return e.prototype.run=function(t){var n=this;if(t===void 0&&(t=zd),!Rn){Rn=!0;var r=xs(t);jd(function(){var i=!1;try{i=Fd()}finally{if(Rn=!1,t=r-xs(),!Nd())return;i?n.run(1e3):t>0?n.run(t):n.start()}})}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var t=this,n=function(){return t.observer&&t.observer.observe(document.body,$d)};document.body?n():Pt.addEventListener("DOMContentLoaded",n)},e.prototype.start=function(){var t=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),bs.forEach(function(n){return Pt.addEventListener(n,t.listener,!0)}))},e.prototype.stop=function(){var t=this;this.stopped||(this.observer&&this.observer.disconnect(),bs.forEach(function(n){return Pt.removeEventListener(n,t.listener,!0)}),this.stopped=!0)},e}(),ar=new Wd,ws=function(e){!Xt&&e>0&&ar.start(),Xt+=e,!Xt&&ar.stop()},Ud=function(e){return!qr(e)&&!Rd(e)&&getComputedStyle(e).display==="inline"},Hd=function(){function e(t,n){this.target=t,this.observedBox=n||At.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var t=aa(this.target,this.observedBox,!0);return Ud(this.target)&&(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e}(),Gd=function(){function e(t,n){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=t,this.callback=n}return e}(),Ut=new WeakMap,Cs=function(e,t){for(var n=0;n<e.length;n+=1)if(e[n].target===t)return n;return-1},Ht=function(){function e(){}return e.connect=function(t,n){var r=new Gd(t,n);Ut.set(t,r)},e.observe=function(t,n,r){var i=Ut.get(t),s=i.observationTargets.length===0;Cs(i.observationTargets,n)<0&&(s&&tt.push(i),i.observationTargets.push(new Hd(n,r&&r.box)),ws(1),ar.schedule())},e.unobserve=function(t,n){var r=Ut.get(t),i=Cs(r.observationTargets,n),s=r.observationTargets.length===1;i>=0&&(s&&tt.splice(tt.indexOf(r),1),r.observationTargets.splice(i,1),ws(-1))},e.disconnect=function(t){var n=this,r=Ut.get(t);r.observationTargets.slice().forEach(function(i){return n.unobserve(t,i.target)}),r.activeTargets.splice(0,r.activeTargets.length)},e}(),qd=function(){function e(t){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof t!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");Ht.connect(this,t)}return e.prototype.observe=function(t,n){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!ms(t))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");Ht.observe(this,t,n)},e.prototype.unobserve=function(t){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!ms(t))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");Ht.unobserve(this,t)},e.prototype.disconnect=function(){Ht.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}();const Kd=$[typeof document<"u"&&document.createElement!==void 0?"useLayoutEffect":"useEffect"],Xd=Kd,Yd=e=>{const t=v.useRef(e);return v.useEffect(()=>{t.current=e}),t},Zd=Yd,Qd=typeof window<"u"&&"ResizeObserver"in window?window.ResizeObserver:qd;function Jd(){}function ep(e,t){const n=np(),r=Zd(t);return Xd(()=>{let i=!1;const s=e&&"current"in e?e.current:e;if(!s)return Jd;function o(c,a){i||r.current(c,a)}return n.subscribe(s,o),()=>{i=!0,n.unsubscribe(s,o)}},[e,n,r]),n.observer}function tp(){let e=!1,t=[];const n=new Map,r=new Qd((i,s)=>{t=t.concat(i);function o(){const c=new Set;for(let a=0;a<t.length;a++){if(c.has(t[a].target))continue;c.add(t[a].target);const u=n.get(t[a].target);u==null||u.forEach(l=>l(t[a],s))}t=[],e=!1}e||window.requestAnimationFrame(o),e=!0});return{observer:r,subscribe(i,s){var o;r.observe(i);const c=(o=n.get(i))!==null&&o!==void 0?o:[];c.push(s),n.set(i,c)},unsubscribe(i,s){var o;const c=(o=n.get(i))!==null&&o!==void 0?o:[];if(c.length===1){r.unobserve(i),n.delete(i);return}const a=c.indexOf(s);a!==-1&&c.splice(a,1),n.set(i,c)}}}let Dn;const np=()=>Dn||(Dn=tp()),ua=e=>{const[t,n]=v.useState();return v.useLayoutEffect(()=>{var r;n((r=e.current)==null?void 0:r.getBoundingClientRect())},[e]),ep(e,r=>n(r.contentRect)),t},rp=({element:e})=>{const[t,n]=v.useState(1.6),r=g(d=>d.data.settings),i=g(d=>d.data.layers),s=g(d=>d.breakpoint),o=g(d=>d.location),c=g(d=>d.sidebarClosed),a=v.useRef(null),u=ua(a);v.useEffect(()=>{r!=null&&r.mapWidth&&(r!=null&&r.mapHeight)?n(r.mapWidth/r.mapHeight):n(1.6)},[r.mapHeight,r.mapWidth]),v.useEffect(()=>{r.padding&&e.current.style.setProperty("--container-padding",r.padding+"px")},[e,r.padding]),v.useEffect(()=>{s!=null&&s.portrait&&a.current.getBoundingClientRect().top<0&&a.current.scrollIntoView({behavior:"smooth"})},[s==null?void 0:s.portrait,o]);const l=()=>s!=null&&s.sidebar?(s==null?void 0:s.sidebar)+"px":e.current?getComputedStyle(e.current).getPropertyValue("--sidebar"):0,h=()=>r!=null&&r.kiosk&&!(s!=null&&s.portrait)?"100vh":s!=null&&s.container?s.container+"px":"auto";return I(ye.div,{className:"mapplic-container",ref:a,initial:!1,transition:{duration:.4},animate:{marginLeft:!c&&!r.rightSidebar&&r.sidebar?l():0,marginRight:!c&&r.rightSidebar&&r.sidebar?l():0},style:{height:h()},children:[r.zoom?y(Ed,{container:a,containerSize:u,aspectRatio:t}):y(Tt,{children:I(ye.div,{className:"mapplic-layers",children:[y(ra,{list:i}),y(Yo,{aspectRatio:t,width:r==null?void 0:r.mapWidth})]})}),y(Kf,{element:e})]})},ip=({element:e})=>{const t=g(i=>i.data.settings),n=g(i=>i.data.styles);return v.useEffect(()=>{t.primaryColor?e.current.style.setProperty("--primary",t.primaryColor):e.current.style.removeProperty("--primary")},[e,t.primaryColor]),v.useMemo(()=>{let i="";const s=(l,h="")=>`.mapplic-layer svg .${l}${h}, .mapplic-layer svg .${l}${h} > *`,o=(l,h="")=>`.mapplic-overlay .mapplic-marker.${l}${h}`,c=(l,h)=>h?`${l}:${h} !important;`:"",a=l=>{if(!l.svg)return"";let h=`${s(l.class)} {${c("fill",l["base-color"])+c("stroke",l["base-stroke"])+c("stroke-width",l["stroke-width"])}}`;return h+=`${s(l.class,".mapplic-highlight")} {${c("fill",l["hover-color"])+c("stroke",l["hover-stroke"])}}`,h+=`${s(l.class,".mapplic-filtered")} {${c("fill",l["hover-color"])+c("stroke",l["hover-stroke"])}}`,h+=`${s(l.class,".mapplic-active")} {${c("fill",l["active-color"])+c("stroke",l["active-stroke"])}}`,h},u=l=>{if(!l.marker)return"";let h=`${o(l.class)} {${c("background-color",l["base-color"])+c("outline",`${l["stroke-width"]}px solid ${l["base-stroke"]}`)+c("color",l["text-color"])}}`;return h+=`${o(l.class,".mapplic-highlight")} {${c("background-color",l["hover-color"])+c("border-color",l["hover-stroke"])}}`,h+=`${o(l.class,".mapplic-active")} {${c("background-color",l["active-color"])+c("outline-color",l["active-stroke"])}}`,h};return n&&n.forEach(l=>{i+=a(l)+u(l)}),t!=null&&t.css&&(i+=t.css),i?y("style",{children:i}):null},[n,t.css])};var ha={exports:{}};/* @license
Papa Parse
v5.4.1
https://github.com/mholt/PapaParse
License: MIT
*/(function(e,t){(function(n,r){e.exports=r()})(da,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},i=!r.document&&!!r.postMessage,s=r.IS_PAPA_WORKER||!1,o={},c=0,a={parse:function(p,f){var w=(f=f||{}).dynamicTyping||!1;if(C(w)&&(f.dynamicTypingFunction=w,w={}),f.dynamicTyping=w,f.transform=!!C(f.transform)&&f.transform,f.worker&&a.WORKERS_SUPPORTED){var L=function(){if(!a.WORKERS_SUPPORTED)return!1;var F=(V=r.URL||r.webkitURL||null,B=n.toString(),a.BLOB_URL||(a.BLOB_URL=V.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",B,")();"],{type:"text/javascript"})))),P=new r.Worker(F),V,B;return P.onmessage=b,P.id=c++,o[P.id]=P}();return L.userStep=f.step,L.userChunk=f.chunk,L.userComplete=f.complete,L.userError=f.error,f.step=C(f.step),f.chunk=C(f.chunk),f.complete=C(f.complete),f.error=C(f.error),delete f.worker,void L.postMessage({input:p,config:f,workerId:L.id})}var M=null;return a.NODE_STREAM_INPUT,typeof p=="string"?(p=function(F){return F.charCodeAt(0)===65279?F.slice(1):F}(p),M=f.download?new h(f):new m(f)):p.readable===!0&&C(p.read)&&C(p.on)?M=new x(f):(r.File&&p instanceof File||p instanceof Object)&&(M=new d(f)),M.stream(p)},unparse:function(p,f){var w=!1,L=!0,M=",",F=`\r
`,P='"',V=P+P,B=!1,D=null,G=!1;(function(){if(typeof f=="object"){if(typeof f.delimiter!="string"||a.BAD_DELIMITERS.filter(function(_){return f.delimiter.indexOf(_)!==-1}).length||(M=f.delimiter),(typeof f.quotes=="boolean"||typeof f.quotes=="function"||Array.isArray(f.quotes))&&(w=f.quotes),typeof f.skipEmptyLines!="boolean"&&typeof f.skipEmptyLines!="string"||(B=f.skipEmptyLines),typeof f.newline=="string"&&(F=f.newline),typeof f.quoteChar=="string"&&(P=f.quoteChar),typeof f.header=="boolean"&&(L=f.header),Array.isArray(f.columns)){if(f.columns.length===0)throw new Error("Option columns is empty");D=f.columns}f.escapeChar!==void 0&&(V=f.escapeChar+P),(typeof f.escapeFormulae=="boolean"||f.escapeFormulae instanceof RegExp)&&(G=f.escapeFormulae instanceof RegExp?f.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var j=new RegExp(k(P),"g");if(typeof p=="string"&&(p=JSON.parse(p)),Array.isArray(p)){if(!p.length||Array.isArray(p[0]))return he(null,p,B);if(typeof p[0]=="object")return he(D||Object.keys(p[0]),p,B)}else if(typeof p=="object")return typeof p.data=="string"&&(p.data=JSON.parse(p.data)),Array.isArray(p.data)&&(p.fields||(p.fields=p.meta&&p.meta.fields||D),p.fields||(p.fields=Array.isArray(p.data[0])?p.fields:typeof p.data[0]=="object"?Object.keys(p.data[0]):[]),Array.isArray(p.data[0])||typeof p.data[0]=="object"||(p.data=[p.data])),he(p.fields||[],p.data||[],B);throw new Error("Unable to serialize unrecognized input");function he(_,Y,fe){var J="";typeof _=="string"&&(_=JSON.parse(_)),typeof Y=="string"&&(Y=JSON.parse(Y));var te=Array.isArray(_)&&0<_.length,oe=!Array.isArray(Y[0]);if(te&&L){for(var ce=0;ce<_.length;ce++)0<ce&&(J+=M),J+=U(_[ce],ce);0<Y.length&&(J+=F)}for(var z=0;z<Y.length;z++){var H=te?_.length:Y[z].length,q=!1,ie=te?Object.keys(Y[z]).length===0:Y[z].length===0;if(fe&&!te&&(q=fe==="greedy"?Y[z].join("").trim()==="":Y[z].length===1&&Y[z][0].length===0),fe==="greedy"&&te){for(var K=[],me=0;me<H;me++){var ae=oe?_[me]:me;K.push(Y[z][ae])}q=K.join("").trim()===""}if(!q){for(var ee=0;ee<H;ee++){0<ee&&!ie&&(J+=M);var ke=te&&oe?_[ee]:ee;J+=U(Y[z][ke],ee)}z<Y.length-1&&(!fe||0<H&&!ie)&&(J+=F)}}return J}function U(_,Y){if(_==null)return"";if(_.constructor===Date)return JSON.stringify(_).slice(1,25);var fe=!1;G&&typeof _=="string"&&G.test(_)&&(_="'"+_,fe=!0);var J=_.toString().replace(j,V);return(fe=fe||w===!0||typeof w=="function"&&w(_,Y)||Array.isArray(w)&&w[Y]||function(te,oe){for(var ce=0;ce<oe.length;ce++)if(-1<te.indexOf(oe[ce]))return!0;return!1}(J,a.BAD_DELIMITERS)||-1<J.indexOf(M)||J.charAt(0)===" "||J.charAt(J.length-1)===" ")?P+J+P:J}}};if(a.RECORD_SEP=String.fromCharCode(30),a.UNIT_SEP=String.fromCharCode(31),a.BYTE_ORDER_MARK="\uFEFF",a.BAD_DELIMITERS=["\r",`
`,'"',a.BYTE_ORDER_MARK],a.WORKERS_SUPPORTED=!i&&!!r.Worker,a.NODE_STREAM_INPUT=1,a.LocalChunkSize=10485760,a.RemoteChunkSize=5242880,a.DefaultDelimiter=",",a.Parser=S,a.ParserHandle=T,a.NetworkStreamer=h,a.FileStreamer=d,a.StringStreamer=m,a.ReadableStreamStreamer=x,r.jQuery){var u=r.jQuery;u.fn.parse=function(p){var f=p.config||{},w=[];return this.each(function(F){if(!(u(this).prop("tagName").toUpperCase()==="INPUT"&&u(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var P=0;P<this.files.length;P++)w.push({file:this.files[P],inputElem:this,instanceConfig:u.extend({},f)})}),L(),this;function L(){if(w.length!==0){var F,P,V,B,D=w[0];if(C(p.before)){var G=p.before(D.file,D.inputElem);if(typeof G=="object"){if(G.action==="abort")return F="AbortError",P=D.file,V=D.inputElem,B=G.reason,void(C(p.error)&&p.error({name:F},P,V,B));if(G.action==="skip")return void M();typeof G.config=="object"&&(D.instanceConfig=u.extend(D.instanceConfig,G.config))}else if(G==="skip")return void M()}var j=D.instanceConfig.complete;D.instanceConfig.complete=function(he){C(j)&&j(he,D.file,D.inputElem),M()},a.parse(D.file,D.instanceConfig)}else C(p.complete)&&p.complete()}function M(){w.splice(0,1),L()}}}function l(p){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(f){var w=A(f);w.chunkSize=parseInt(w.chunkSize),f.step||f.chunk||(w.chunkSize=null),this._handle=new T(w),(this._handle.streamer=this)._config=w}).call(this,p),this.parseChunk=function(f,w){if(this.isFirstChunk&&C(this._config.beforeFirstChunk)){var L=this._config.beforeFirstChunk(f);L!==void 0&&(f=L)}this.isFirstChunk=!1,this._halted=!1;var M=this._partialLine+f;this._partialLine="";var F=this._handle.parse(M,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var P=F.meta.cursor;this._finished||(this._partialLine=M.substring(P-this._baseIndex),this._baseIndex=P),F&&F.data&&(this._rowCount+=F.data.length);var V=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(s)r.postMessage({results:F,workerId:a.WORKER_ID,finished:V});else if(C(this._config.chunk)&&!w){if(this._config.chunk(F,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);F=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(F.data),this._completeResults.errors=this._completeResults.errors.concat(F.errors),this._completeResults.meta=F.meta),this._completed||!V||!C(this._config.complete)||F&&F.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),V||F&&F.meta.paused||this._nextChunk(),F}this._halted=!0},this._sendError=function(f){C(this._config.error)?this._config.error(f):s&&this._config.error&&r.postMessage({workerId:a.WORKER_ID,error:f,finished:!1})}}function h(p){var f;(p=p||{}).chunkSize||(p.chunkSize=a.RemoteChunkSize),l.call(this,p),this._nextChunk=i?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(w){this._input=w,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(f=new XMLHttpRequest,this._config.withCredentials&&(f.withCredentials=this._config.withCredentials),i||(f.onload=R(this._chunkLoaded,this),f.onerror=R(this._chunkError,this)),f.open(this._config.downloadRequestBody?"POST":"GET",this._input,!i),this._config.downloadRequestHeaders){var w=this._config.downloadRequestHeaders;for(var L in w)f.setRequestHeader(L,w[L])}if(this._config.chunkSize){var M=this._start+this._config.chunkSize-1;f.setRequestHeader("Range","bytes="+this._start+"-"+M)}try{f.send(this._config.downloadRequestBody)}catch(F){this._chunkError(F.message)}i&&f.status===0&&this._chunkError()}},this._chunkLoaded=function(){f.readyState===4&&(f.status<200||400<=f.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:f.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(w){var L=w.getResponseHeader("Content-Range");return L===null?-1:parseInt(L.substring(L.lastIndexOf("/")+1))}(f),this.parseChunk(f.responseText)))},this._chunkError=function(w){var L=f.statusText||w;this._sendError(new Error(L))}}function d(p){var f,w;(p=p||{}).chunkSize||(p.chunkSize=a.LocalChunkSize),l.call(this,p);var L=typeof FileReader<"u";this.stream=function(M){this._input=M,w=M.slice||M.webkitSlice||M.mozSlice,L?((f=new FileReader).onload=R(this._chunkLoaded,this),f.onerror=R(this._chunkError,this)):f=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var M=this._input;if(this._config.chunkSize){var F=Math.min(this._start+this._config.chunkSize,this._input.size);M=w.call(M,this._start,F)}var P=f.readAsText(M,this._config.encoding);L||this._chunkLoaded({target:{result:P}})},this._chunkLoaded=function(M){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(M.target.result)},this._chunkError=function(){this._sendError(f.error)}}function m(p){var f;l.call(this,p=p||{}),this.stream=function(w){return f=w,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var w,L=this._config.chunkSize;return L?(w=f.substring(0,L),f=f.substring(L)):(w=f,f=""),this._finished=!f,this.parseChunk(w)}}}function x(p){l.call(this,p=p||{});var f=[],w=!0,L=!1;this.pause=function(){l.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){l.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(M){this._input=M,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){L&&f.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),f.length?this.parseChunk(f.shift()):w=!0},this._streamData=R(function(M){try{f.push(typeof M=="string"?M:M.toString(this._config.encoding)),w&&(w=!1,this._checkIsFinished(),this.parseChunk(f.shift()))}catch(F){this._streamError(F)}},this),this._streamError=R(function(M){this._streamCleanUp(),this._sendError(M)},this),this._streamEnd=R(function(){this._streamCleanUp(),L=!0,this._streamData("")},this),this._streamCleanUp=R(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function T(p){var f,w,L,M=Math.pow(2,53),F=-M,P=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,V=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,B=this,D=0,G=0,j=!1,he=!1,U=[],_={data:[],errors:[],meta:{}};if(C(p.step)){var Y=p.step;p.step=function(z){if(_=z,te())J();else{if(J(),_.data.length===0)return;D+=z.data.length,p.preview&&D>p.preview?w.abort():(_.data=_.data[0],Y(_,B))}}}function fe(z){return p.skipEmptyLines==="greedy"?z.join("").trim()==="":z.length===1&&z[0].length===0}function J(){return _&&L&&(ce("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+a.DefaultDelimiter+"'"),L=!1),p.skipEmptyLines&&(_.data=_.data.filter(function(z){return!fe(z)})),te()&&function(){if(!_)return;function z(q,ie){C(p.transformHeader)&&(q=p.transformHeader(q,ie)),U.push(q)}if(Array.isArray(_.data[0])){for(var H=0;te()&&H<_.data.length;H++)_.data[H].forEach(z);_.data.splice(0,1)}else _.data.forEach(z)}(),function(){if(!_||!p.header&&!p.dynamicTyping&&!p.transform)return _;function z(q,ie){var K,me=p.header?{}:[];for(K=0;K<q.length;K++){var ae=K,ee=q[K];p.header&&(ae=K>=U.length?"__parsed_extra":U[K]),p.transform&&(ee=p.transform(ee,ae)),ee=oe(ae,ee),ae==="__parsed_extra"?(me[ae]=me[ae]||[],me[ae].push(ee)):me[ae]=ee}return p.header&&(K>U.length?ce("FieldMismatch","TooManyFields","Too many fields: expected "+U.length+" fields but parsed "+K,G+ie):K<U.length&&ce("FieldMismatch","TooFewFields","Too few fields: expected "+U.length+" fields but parsed "+K,G+ie)),me}var H=1;return!_.data.length||Array.isArray(_.data[0])?(_.data=_.data.map(z),H=_.data.length):_.data=z(_.data,0),p.header&&_.meta&&(_.meta.fields=U),G+=H,_}()}function te(){return p.header&&U.length===0}function oe(z,H){return q=z,p.dynamicTypingFunction&&p.dynamicTyping[q]===void 0&&(p.dynamicTyping[q]=p.dynamicTypingFunction(q)),(p.dynamicTyping[q]||p.dynamicTyping)===!0?H==="true"||H==="TRUE"||H!=="false"&&H!=="FALSE"&&(function(ie){if(P.test(ie)){var K=parseFloat(ie);if(F<K&&K<M)return!0}return!1}(H)?parseFloat(H):V.test(H)?new Date(H):H===""?null:H):H;var q}function ce(z,H,q,ie){var K={type:z,code:H,message:q};ie!==void 0&&(K.row=ie),_.errors.push(K)}this.parse=function(z,H,q){var ie=p.quoteChar||'"';if(p.newline||(p.newline=function(ae,ee){ae=ae.substring(0,1048576);var ke=new RegExp(k(ee)+"([^]*?)"+k(ee),"gm"),xe=(ae=ae.replace(ke,"")).split("\r"),Ee=ae.split(`
`),Re=1<Ee.length&&Ee[0].length<xe[0].length;if(xe.length===1||Re)return`
`;for(var we=0,ne=0;ne<xe.length;ne++)xe[ne][0]===`
`&&we++;return we>=xe.length/2?`\r
`:"\r"}(z,ie)),L=!1,p.delimiter)C(p.delimiter)&&(p.delimiter=p.delimiter(z),_.meta.delimiter=p.delimiter);else{var K=function(ae,ee,ke,xe,Ee){var Re,we,ne,le;Ee=Ee||[",","	","|",";",a.RECORD_SEP,a.UNIT_SEP];for(var qe=0;qe<Ee.length;qe++){var Z=Ee[qe],ot=0,De=0,Ke=0;ne=void 0;for(var Ie=new S({comments:xe,delimiter:Z,newline:ee,preview:10}).parse(ae),Be=0;Be<Ie.data.length;Be++)if(ke&&fe(Ie.data[Be]))Ke++;else{var je=Ie.data[Be].length;De+=je,ne!==void 0?0<je&&(ot+=Math.abs(je-ne),ne=je):ne=je}0<Ie.data.length&&(De/=Ie.data.length-Ke),(we===void 0||ot<=we)&&(le===void 0||le<De)&&1.99<De&&(we=ot,Re=Z,le=De)}return{successful:!!(p.delimiter=Re),bestDelimiter:Re}}(z,p.newline,p.skipEmptyLines,p.comments,p.delimitersToGuess);K.successful?p.delimiter=K.bestDelimiter:(L=!0,p.delimiter=a.DefaultDelimiter),_.meta.delimiter=p.delimiter}var me=A(p);return p.preview&&p.header&&me.preview++,f=z,w=new S(me),_=w.parse(f,H,q),J(),j?{meta:{paused:!0}}:_||{meta:{paused:!1}}},this.paused=function(){return j},this.pause=function(){j=!0,w.abort(),f=C(p.chunk)?"":f.substring(w.getCharIndex())},this.resume=function(){B.streamer._halted?(j=!1,B.streamer.parseChunk(f,!0)):setTimeout(B.resume,3)},this.aborted=function(){return he},this.abort=function(){he=!0,w.abort(),_.meta.aborted=!0,C(p.complete)&&p.complete(_),f=""}}function k(p){return p.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function S(p){var f,w=(p=p||{}).delimiter,L=p.newline,M=p.comments,F=p.step,P=p.preview,V=p.fastMode,B=f=p.quoteChar===void 0||p.quoteChar===null?'"':p.quoteChar;if(p.escapeChar!==void 0&&(B=p.escapeChar),(typeof w!="string"||-1<a.BAD_DELIMITERS.indexOf(w))&&(w=","),M===w)throw new Error("Comment character same as delimiter");M===!0?M="#":(typeof M!="string"||-1<a.BAD_DELIMITERS.indexOf(M))&&(M=!1),L!==`
`&&L!=="\r"&&L!==`\r
`&&(L=`
`);var D=0,G=!1;this.parse=function(j,he,U){if(typeof j!="string")throw new Error("Input must be a string");var _=j.length,Y=w.length,fe=L.length,J=M.length,te=C(F),oe=[],ce=[],z=[],H=D=0;if(!j)return Ce();if(p.header&&!he){var q=j.split(L)[0].split(w),ie=[],K={},me=!1;for(var ae in q){var ee=q[ae];C(p.transformHeader)&&(ee=p.transformHeader(ee,ae));var ke=ee,xe=K[ee]||0;for(0<xe&&(me=!0,ke=ee+"_"+xe),K[ee]=xe+1;ie.includes(ke);)ke=ke+"_"+xe;ie.push(ke)}if(me){var Ee=j.split(L);Ee[0]=ie.join(w),j=Ee.join(L)}}if(V||V!==!1&&j.indexOf(f)===-1){for(var Re=j.split(L),we=0;we<Re.length;we++){if(z=Re[we],D+=z.length,we!==Re.length-1)D+=L.length;else if(U)return Ce();if(!M||z.substring(0,J)!==M){if(te){if(oe=[],Ke(z.split(w)),_t(),G)return Ce()}else Ke(z.split(w));if(P&&P<=we)return oe=oe.slice(0,P),Ce(!0)}}return Ce()}for(var ne=j.indexOf(w,D),le=j.indexOf(L,D),qe=new RegExp(k(B)+k(f),"g"),Z=j.indexOf(f,D);;)if(j[D]!==f)if(M&&z.length===0&&j.substring(D,D+J)===M){if(le===-1)return Ce();D=le+fe,le=j.indexOf(L,D),ne=j.indexOf(w,D)}else if(ne!==-1&&(ne<le||le===-1))z.push(j.substring(D,ne)),D=ne+Y,ne=j.indexOf(w,D);else{if(le===-1)break;if(z.push(j.substring(D,le)),je(le+fe),te&&(_t(),G))return Ce();if(P&&oe.length>=P)return Ce(!0)}else for(Z=D,D++;;){if((Z=j.indexOf(f,Z+1))===-1)return U||ce.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:oe.length,index:D}),Be();if(Z===_-1)return Be(j.substring(D,Z).replace(qe,f));if(f!==B||j[Z+1]!==B){if(f===B||Z===0||j[Z-1]!==B){ne!==-1&&ne<Z+1&&(ne=j.indexOf(w,Z+1)),le!==-1&&le<Z+1&&(le=j.indexOf(L,Z+1));var ot=Ie(le===-1?ne:Math.min(ne,le));if(j.substr(Z+1+ot,Y)===w){z.push(j.substring(D,Z).replace(qe,f)),j[D=Z+1+ot+Y]!==f&&(Z=j.indexOf(f,D)),ne=j.indexOf(w,D),le=j.indexOf(L,D);break}var De=Ie(le);if(j.substring(Z+1+De,Z+1+De+fe)===L){if(z.push(j.substring(D,Z).replace(qe,f)),je(Z+1+De+fe),ne=j.indexOf(w,D),Z=j.indexOf(f,D),te&&(_t(),G))return Ce();if(P&&oe.length>=P)return Ce(!0);break}ce.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:oe.length,index:D}),Z++}}else Z++}return Be();function Ke(Pe){oe.push(Pe),H=D}function Ie(Pe){var Kr=0;if(Pe!==-1){var gn=j.substring(Z+1,Pe);gn&&gn.trim()===""&&(Kr=gn.length)}return Kr}function Be(Pe){return U||(Pe===void 0&&(Pe=j.substring(D)),z.push(Pe),D=_,Ke(z),te&&_t()),Ce()}function je(Pe){D=Pe,Ke(z),z=[],le=j.indexOf(L,D)}function Ce(Pe){return{data:oe,errors:ce,meta:{delimiter:w,linebreak:L,aborted:G,truncated:!!Pe,cursor:H+(he||0)}}}function _t(){F(Ce()),oe=[],ce=[]}},this.abort=function(){G=!0},this.getCharIndex=function(){return D}}function b(p){var f=p.data,w=o[f.workerId],L=!1;if(f.error)w.userError(f.error,f.file);else if(f.results&&f.results.data){var M={abort:function(){L=!0,E(f.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:O,resume:O};if(C(w.userStep)){for(var F=0;F<f.results.data.length&&(w.userStep({data:f.results.data[F],errors:f.results.errors,meta:f.results.meta},M),!L);F++);delete f.results}else C(w.userChunk)&&(w.userChunk(f.results,M,f.file),delete f.results)}f.finished&&!L&&E(f.workerId,f.results)}function E(p,f){var w=o[p];C(w.userComplete)&&w.userComplete(f),w.terminate(),delete o[p]}function O(){throw new Error("Not implemented.")}function A(p){if(typeof p!="object"||p===null)return p;var f=Array.isArray(p)?[]:{};for(var w in p)f[w]=A(p[w]);return f}function R(p,f){return function(){p.apply(f,arguments)}}function C(p){return typeof p=="function"}return s&&(r.onmessage=function(p){var f=p.data;if(a.WORKER_ID===void 0&&f&&(a.WORKER_ID=f.workerId),typeof f.input=="string")r.postMessage({workerId:a.WORKER_ID,results:a.parse(f.input,f.config),finished:!0});else if(r.File&&f.input instanceof File||f.input instanceof Object){var w=a.parse(f.input,f.config);w&&r.postMessage({workerId:a.WORKER_ID,results:w,finished:!0})}}),(h.prototype=Object.create(l.prototype)).constructor=h,(d.prototype=Object.create(l.prototype)).constructor=d,(m.prototype=Object.create(m.prototype)).constructor=m,(x.prototype=Object.create(l.prototype)).constructor=x,a})})(ha);var sp=ha.exports;const op=cr(sp),ap=e=>{const t=g(s=>s.fetchData),n=g(s=>s.fetchCsv),r=g(s=>s.setCsv),i=g(s=>s.data.settings);g(s=>s.csv),v.useEffect(()=>{e&&t(e)},[e,t]),v.useEffect(()=>{i!=null&&i.csvEnabled&&(i!=null&&i.csv)?n(new Promise((s,o)=>{op.parse(i==null?void 0:i.csv,{header:!0,download:!0,encoding:"UTF-8",skipEmptyLines:!0,transformHeader:c=>c.trim().toLowerCase(),transform:(c,a)=>a==="coord"||a==="latlon"?c.split(",").map(parseFloat):c,complete:c=>{s(c.data)},error:c=>{o(c)}})})):r([])},[i==null?void 0:i.csv,i==null?void 0:i.csvEnabled,n,r])},cp=e=>{const[t,n]=v.useState(()=>{if(typeof window>"u")return"";const{search:r}=window.location,i=new URLSearchParams(r);return i.has(e)?i.get(e):""});return v.useEffect(()=>{const r=i=>{const o=new URLSearchParams(window.location.search).get(e);n(o)};return window.addEventListener("popstate",r),()=>window.removeEventListener("popstate",r)},[e]),v.useEffect(()=>{const r=new URL(window.location);r.searchParams.get(e)!==t&&(t?r.searchParams.set(e,t):r.searchParams.delete(e),window.history.pushState(window.history.state,"",r))},[e,t]),[t,n]},lp=({enabled:e,children:t})=>{const n=g(u=>u.loading),r=g(u=>u.location),i=g(u=>u.openLocation),[s,o]=cp("location"),[c,a]=v.useState(!1);return v.useEffect(()=>{e&&(!n&&!c&&s&&(a(s),setTimeout(()=>i(s),200)),c&&s&&s!==c&&(a(!0),i(s)))},[e,n,c,a,s,i]),v.useEffect(()=>{e&&(r===null&&o(""),r&&o(r))},[e,r,o]),t},fp=({json:e,...t})=>{const n=v.useRef(null),r=ua(n),i=g(b=>b.loading),s=g(b=>b.error),o=g(b=>b.data.settings),c=g(b=>b.sidebarClosed),a=g(b=>b.breakpoint),u=g(b=>b.data.breakpoints),l=g(b=>b.setBreakpoint),h=g(b=>{var E,O;return(O=(E=b.data)==null?void 0:E.settings)==null?void 0:O.deeplinking}),d=g(b=>b.dataLoaded),m=g(b=>b.openLocation),x=g(b=>b.setFixedFrom);g(b=>b.data);const[T,k]=v.useState(!1);ap(e),Vf(),v.useEffect(()=>{d&&t.location&&setTimeout(()=>m(t.location),600)},[d,m,t.location]),v.useEffect(()=>{t.fixedfrom&&x(t.fixedfrom)},[d,t.fixedfrom,x]),v.useEffect(()=>{const b=u==null?void 0:u.reduce((E,O)=>(r==null?void 0:r.width)<=O.below&&O.below<E.below?O:E,{below:1e4});l(b)},[r,u,l]);const S=()=>o!=null&&o.kiosk?"100vh":a!=null&&a.element?a.element+"px":"auto";return i?y("div",{ref:n,className:"mapplic-placeholder",children:y("div",{className:"mapplic-loader"})}):s?y("div",{ref:n,className:"mapplic-placeholder",children:y("i",{children:s})}):y("div",{...t,ref:n,style:{maxHeight:S()},className:Le("mapplic-element",a==null?void 0:a.name,{"mapplic-portrait":a==null?void 0:a.portrait,"mapplic-sidebar-right":o.rightSidebar,"mapplic-sidebar-closed":c&&o.toggleSidebar,"mapplic-sidebar-toggle":o.toggleSidebar}),onClick:()=>{T||(window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"mapplicUsed"}),k(!0))},children:I(lp,{enabled:h,children:[y(ip,{element:n}),y(rp,{element:n}),o.sidebar&&y(zf,{element:n})]})})};export{fp as default};
